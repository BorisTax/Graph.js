(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,i){},37:function(e,t,i){e.exports=i(53)},53:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),r=i(33),a=i.n(r),o=i(1),c=i(2),h=i(5),l=i(3),p=i(4),u=i(19),d=i(17),y=i(7),v=i(16),g=i(35),f={status:"FREE"};var S=i(6),m=(i(9),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.x=t,this.y=i}),b=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.x=t,this.y=i},w=function e(t,i){Object(o.a)(this,e),2===arguments.length&&(this.p1=t,this.p2=i),4===arguments.length&&(this.p1={x:arguments[0],y:arguments[1]},this.p2={x:arguments[2],y:arguments[3]})},k=function(){function e(){var t=this;Object(o.a)(this,e);var i=arguments,n=function(e,i){t.a=e.y-i.y,t.b=i.x-e.x,t.c=e.x*i.y-e.y*i.x};switch(i.length){case 0:n(new m,new m);break;case 1:n(i[0].p1,i[0].p2);break;case 2:n(i[0],i[1]);break;case 3:this.a=i[0],this.b=i[1],this.c=i[2]}}return Object(c.a)(e,[{key:"getYbyX",value:function(e){return 0!==this.b?-(this.a*e+this.c)/this.b:NaN}},{key:"getXbyY",value:function(e){return 0!==this.a?-(this.b*e+this.c)/this.a:NaN}}]),e}(),x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new m,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m;Object(o.a)(this,e),this.origin=t,this.vector=new j,this.vector.x=i.x-t.x,this.vector.y=i.y-t.y,this.directionPoint={x:this.origin.x+this.vector.x,y:this.origin.y+this.vector.y}}return Object(c.a)(e,[{key:"getYbyX",value:function(e){if(0!==this.b){var t=-(this.a*e+this.c)/this.b;return(e-this.origin.x)*this.vector.x>=0&&(t-this.origin.y)*this.vector.y>=0?t:NaN}return NaN}},{key:"getXbyY",value:function(e){return 0!==this.a&&(-(this.b*e+this.c)/this.a-this.origin.x)*this.vector.x>=0&&(e-this.origin.y)*this.vector.y>=0?e:NaN}}]),e}(),O=function e(t,i,n){Object(o.a)(this,e),this.first=t,this.second=i,this.third=n,this.chord=Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))},C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new m,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m;Object(o.a)(this,e),this.topLeft={},this.bottomRight={},this.topLeft.x=t.x>i.x?i.x:t.x,this.topLeft.y=t.y<i.y?i.y:t.y,this.width=Math.abs(i.x-t.x),this.height=Math.abs(i.y-t.y),this.bottomRight.x=this.topLeft.x+this.width,this.bottomRight.y=this.topLeft.y-this.height},E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new m,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.center=t,this.radius=i},P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new m,new m,new m];Object(o.a)(this,e),this.points=t}return Object(c.a)(e,[{key:"getOuterCircle",value:function(){var e=R.SLinePerpOnPoint(new k(this.points[0],this.points[1]),R.midPoint(this.points[0],this.points[1])),t=R.SLinePerpOnPoint(new k(this.points[0],this.points[2]),R.midPoint(this.points[0],this.points[2])),i=L.SLineSLine(e,t);return null===i&&(i=R.midPoint(this.points[0],this.points[1])),new E(i,R.distance(i,this.points[0]))}}]),e}(),j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new m,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m;Object(o.a)(this,e),this.x=i.x-t.x,this.y=i.y-t.y,this.modulus=Math.sqrt(this.x*this.x+this.y*this.y)},L=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"SLineSLine",value:function(e,t){var i=e.a*t.b-e.b*t.a;if(0===i)return null;var n=-e.c*t.b- -t.c*e.b,s=-t.c*e.a- -e.c*t.a;return new m(n/i,s/i)}},{key:"LineSLine",value:function(t,i){var n=e.SLineSLine(i,new k(t));return null===n?null:R.pointOnLine(n,t.p1,t.p2)?n:null}},{key:"RectangleSLine",value:function(t,i,n){var s=new Array(4),r=[];return s[0]=new w(t.x,t.y,i.x,t.y),s[1]=new w(t.x,i.y,i.x,i.y),s[2]=new w(t.x,t.y,t.x,i.y),s[3]=new w(i.x,t.y,i.x,i.y),s.forEach(function(t){var i=e.LineSLine(t,n);i&&r.length<2&&r.push(i)}),r}},{key:"RectangleRLine",value:function(t,i,n){var s=e.RectangleSLine(t,i,R.SLineFromRLine(n)),r=[];return s.forEach(function(e){R.isPointOnRayLine(n,e)&&r.push(e)}),r}},{key:"RectangleRectangle",value:function(t,i,n,s){var r=[new w(t.x,t.y,i.x,t.y),new w(i.x,t.y,i.x,i.y),new w(t.x,i.y,i.x,i.y),new w(t.x,t.y,t.x,i.y)],a=[new w(n.x,n.y,s.x,n.y),new w(s.x,n.y,s.x,s.y),new w(n.x,s.y,s.x,s.y),new w(n.x,n.y,n.x,s.y)],o=[];return r.forEach(function(t){a.forEach(function(i){var n=e.LineLine(t,i);n&&o.push(n)})}),o}},{key:"LineRectangle",value:function(t,i,n){var s=new Array(4),r=[];return s[0]=new w(i.x,i.y,n.x,i.y),s[1]=new w(i.x,n.y,n.x,n.y),s[2]=new w(i.x,i.y,i.x,n.y),s[3]=new w(n.x,i.y,n.x,n.y),s.forEach(function(i){var n=e.LineLine(t,i);n&&r.length<2&&r.push(n)}),r}},{key:"LineLine",value:function(t,i){var n=e.SLineSLine(new k(t),new k(i));return n&&R.pointOnLine(n,t.p1,t.p2)&&R.pointOnLine(n,i.p1,i.p2)?n:null}},{key:"CircleSLine",value:function(e,t){var i=-e.center.x,n=-e.center.y,s=R.LineShifted(t,i,n),r=s.a,a=s.b,o=s.c,c=e.radius;0===a&&(r=s.b,a=s.a);var h=r*r+a*a,l=2*r*o,p=o*o-c*c*a*a,u=R.QuadEquation(h,l,p);if(null===u)return null;for(var d=new Array(u.length),y=0;y<u.length;y++)d[y]=new m,0===s.b?(d[y].y=u[y],d[y].x=-(r*u[y]+o)/a):(d[y].x=u[y],d[y].y=-(r*u[y]+o)/a),d[y].x=d[y].x-i,d[y].y=d[y].y-n;return d}},{key:"CircleRLine",value:function(t,i){var n=e.CircleSLine(t,new k(i.origin,new m(i.origin.x+i.vector.x,i.origin.y+i.vector.y)));if(null===n)return null;var s=0,r=0,a=!0,o=!1,c=void 0;try{for(var h,l=n[Symbol.iterator]();!(a=(h=l.next()).done);a=!0){var p=h.value;R.isPointOnRayLine(i,p)?s++:n[r]=null,r++}}catch(b){o=!0,c=b}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}if(0===s)return null;var u=new Array(s);s=0;var d=!0,y=!1,v=void 0;try{for(var g,f=n[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){var S=g.value;null!=S&&(u[s++]=S)}}catch(b){y=!0,v=b}finally{try{d||null==f.return||f.return()}finally{if(y)throw v}}return u}}]),e}(),R=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"realToScreenLength",value:function(e,t,i){return Math.round(e/(t/i))}},{key:"SLineFromRLine",value:function(e){return new k(e.origin,new m(e.origin.x+e.vector.x,e.origin.y+e.vector.y))}},{key:"SLineFromLine",value:function(e){return new k(e.p1,e.p2)}},{key:"SLineByTwoPoints",value:function(e,t){return new k(e,t)}},{key:"SLinePerpOnPoint",value:function(e,t){return new k(-e.b,e.a,-e.a*t.y+e.b*t.x)}},{key:"LineShifted",value:function(e,t,i){for(var n=new Array(2),s=0;s<2;s++){var r=s,a=e.getYbyX(r);isNaN(a)&&(a=s,r=e.getXbyY(a)),r+=t,a+=i,n[s]=new m(r,a)}return new k(n[0],n[1])}},{key:"pointInRect",value:function(e,t,i){var n=(e.x-i.x)*(e.x-t.x),s=(e.y-i.y)*(e.y-t.y);return n<=0&&s<=0}},{key:"pointInRectByPoints",value:function(e,t,i,n,s,r){return e>=i&&e<=s&&t<=n&&t>=r}},{key:"pointOnLine",value:function(e,t,i){if(!e||!t||!i)return!1;var n=Math.round((e.x-t.x)*(e.x-i.x)*1e5)/1e5,s=Math.round((e.y-t.y)*(e.y-i.y)*1e5)/1e5;return n<=0&&s<=0}},{key:"pointOnSLineProjection",value:function(t,i){return L.SLineSLine(i,e.SLinePerpOnPoint(i,t))}},{key:"PointToSLineDistance",value:function(t,i){return e.distance(t,e.pointOnSLineProjection(t,i))}},{key:"PointToRLineDistance",value:function(t,i){var n=e.pointOnSLineProjection(t,e.SLineFromRLine(i));return e.isPointOnRayLine(i,n)?e.distance(t,n):e.distance(t,i.origin)}},{key:"PointToLineDistance",value:function(t,i){var n=e.pointOnSLineProjection(t,e.SLineFromLine(i));return e.pointOnLine(n,i.p1,i.p2)?e.distance(t,n):Math.min(e.distance(t,i.p1),e.distance(t,i.p2))}},{key:"midPoint",value:function(e,t){return new m((t.x+e.x)/2,(t.y+e.y)/2)}},{key:"scalar",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"modulus",value:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}},{key:"angleVectors",value:function(e,t){return Math.acos(this.scalar(e,t)/(e.modulus*t.modulus))}},{key:"arcCenterPoint",value:function(t,i,n){var s=new k(t,i),r=new k(i,n),a=e.midPoint(t,i),o=e.midPoint(i,n),c=e.SLinePerpOnPoint(s,a),h=e.SLinePerpOnPoint(r,o);return L.SLineSLine(c,h)}},{key:"isPointOnRayLine",value:function(e,t){return(t.x-e.origin.x)*e.vector.x>=0&&(t.y-e.origin.y)*e.vector.y>=0}},{key:"arcMiddlePoint",value:function(t){var i=e.midPoint(t.first,t.third),n=Math.sqrt((i.x-t.center.x)*(i.x-t.center.x)+(i.y-t.center.y)*(i.y-t.center.y));return new m(t.radius/n+t.center.x,t.radius/n+t.center.y)}},{key:"arcToPointArray",value:function(t,i){if(t.chord<=i){var n=new Array(2);return n[0]=t.first,n[1]=t.third,n}for(var s=e.arcMiddlePoint(t),r=e.arcToPointArray(e.arcByTwoPointsCenter(t.first,s,t.center),i),a=e.arcToPointArray(e.arcByTwoPointsCenter(s,t.third,t.center),i),o=r.length-1+a.length,c=new Array(o),h=0;h<=o;h++)h<r.length-1?c[h]=r[h]:c[h]=a[h];return c}},{key:"arcByTwoPointsCenter",value:function(t,i,n){var s=e.midPoint(t,i),r=Math.sqrt((s.x-n.x)*(s.x-n.x)+(s.y-n.y)*(s.y-n.y)),a=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y));return new O(t,new m(a/r+n.x,a/r+n.y),i)}},{key:"arcLength",value:function(t){var i=new j(t.center,t.first),n=new j(t.center,t.third);return e.angleVectors(i,n)*t.radius}},{key:"QuadEquation",value:function(e,t,i){if(0===e)return null;var n=t*t-4*e*i;if(n<0)return null;var s=[];return 0===n?((s=[])[0]=-t/(2*e),s):((s=[])[0]=(-t+Math.sqrt(n))/(2*e),s[1]=(-t-Math.sqrt(n))/(2*e),s)}},{key:"distance",value:function(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}},{key:"rotatePoint",value:function(e,t,i){var n=new m(e.x-i.x,e.y-i.y),s=new m;return s.x=n.x*Math.cos(t)-n.y*Math.sin(t)+i.x,s.y=n.x*Math.sin(t)+n.y*Math.cos(t)+i.y,s}},{key:"screenToReal",value:function(e,t,i,n,s,r){var a=r.x-s.x,o=s.y-r.y;return{x:e/i*a+s.x,y:s.y-t/n*o}}},{key:"realToScreen",value:function(e,t,i){var n=t.width/i.width;return{x:Math.round((e.x-t.topLeft.x)/n),y:-Math.round((e.y-t.topLeft.y)/n)}}}]),e}(),T=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;switch(Object(o.a)(this,e),this.color=t,this.originColor=this.color,this.width=n,this.type=i,i){case e.DASH:this.stroke=[1,3];break;case e.SOLID:this.stroke=[0];break;case e.SELECTION:this.stroke=[1,1]}}return Object(c.a)(e,[{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(e){this.color=e}},{key:"getType",value:function(){return this.type}},{key:"getStroke",value:function(){return this.stroke}},{key:"setStroke",value:function(e){this.stroke=e}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(e){this.width=e}}]),e}();T.DASH=[1,3],T.SOLID=[0],T.SELECTION=[1,1];var A={BLUE:"#0000FF",BLACK:"#000000",GRAY:"#D0D0D0",RED:"#FF0000",DARK_ORANGE:"#FFB000",GREEN:"#00FF00",SELECTED:"#0000FF",SELECTION_AREA:"#000000",GRID:"#909090",ACTIVE_POINT_MARKER:"#FF0000",POINT_MARKER:"#0000FF"},M=i(10),N=function(){function e(){Object(o.a)(this,e),this.style=new T(A.BLACK,T.SOLID),this.state={selected:!1,highlighted:!1}}return Object(c.a)(e,[{key:"getModel",value:function(){return this.model}},{key:"setColor",value:function(e){this.style.setColor(e)}},{key:"getColor",value:function(){return this.style.getColor()}},{key:"getStyle",value:function(){return this.style}},{key:"setStyle",value:function(e){this.style=e}},{key:"setState",value:function(e){this.state=Object(S.a)({},this.state,e),!0!==this.state.selected?(this.setStyle(new T(A.BLACK,T.SOLID,1)),this.activePoint=null,this.activePointMarker=null,!0===this.state.highlighted&&this.setStyle(new T(A.BLACK,T.SOLID,2))):this.setStyle(new T(A.SELECTED,T.SOLID,2))}},{key:"getState",value:function(){return this.state}},{key:"setProperty",value:function(e){"Color"===e.key&&this.setColor(e.value)}}]),e}(),D=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).p=n,e.text=i,e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,i,n){this.refresh(i,n),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),console.log(e.lineWidth),e.save(),e.font=this.font;var s=Object(S.a)({},this.p0);if(this.anchor===t.CENTER){var r=e.measureText(this.text).width/2;s.x=this.p0.x-r*Math.cos(this.angle),s.y=this.p0.y-r*Math.sin(this.angle)}var a=R.rotatePoint(s,this.angle,{x:0,y:0});e.translate(s.x-a.x,s.y-a.y),e.rotate(this.angle),e.strokeText(this.text,s.x,s.y),e.restore()}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.p,e,t)}},{key:"rotate",value:function(e){this.angle=e}},{key:"getMarkers",value:function(){return[]}},{key:"setText",value:function(e){this.text=e}},{key:"setFont",value:function(e){this.font=e}},{key:"setPoint",value:function(e){this.p=e}},{key:"setAnchor",value:function(e){this.anchor=e}},{key:"setActivePoint",value:function(e){this.activePoint=null,"P1"===e&&(this.activePoint=this.p)}},{key:"getProperties",value:function(){return new Map}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"P1":this.line.p1.x=e.value.x,this.line.p1.y=e.value.y;break;case"P2":this.line.p2.x=e.value.x,this.line.p2.y=e.value.y}}},{key:"getDistance",value:function(e){return null}},{key:"isInRect",value:function(e,t){return{cross:!1,full:!1}}},{key:"toString",value:function(){return"Line P1(".concat(this.line.p1.x,",").concat(this.line.p1.y,") P2(").concat(this.line.p2.x,",").concat(this.line.p2.y,")")}}]),t}(N);D.CENTER=1;var I=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).curPoint=new b,i.prevPoint=new b,i.gridStep=1,i.gridStepPixels=1,i.dragGrid=!1,i.gridPointsX=[],i.gridPointsY=[],i.gridNumbersX=[],i.gridNumbersY=[],i.dragX0=0,i.dragY0=0,i.drag=!1,i.lbut=0,i.mbut=1,window.KEYDOWNHANDLE=!0,i.refCanvas=s.a.createRef(),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getRealRect",value:function(){var e=new C;return e.topLeft=this.props.topLeft,e.bottomRight=this.props.bottomRight,e.width=this.props.bottomRight.x-this.props.topLeft.x,e.height=this.props.topLeft.y-this.props.bottomRight.y,e}},{key:"getScreenRect",value:function(){var e=new C;return e.topLeft.x=0,e.topLeft.y=0,e.width=this.props.screenWidth,e.height=this.props.screenHeight,e}},{key:"test",value:function(){var e=new D("Text",{x:0,y:0});e.setStyle(new T(A.BLACK,T.SOLID)),e.rotate(45*Math.PI/180),this.props.shapes.push(e)}},{key:"drawCursor",value:function(e){this.props.cursor.setCoord(this.props.curCoord),this.drawShape(this.props.cursor,e)}},{key:"drawGrid",value:function(e){e.strokeStyle=A.GRID;var t=new T(A.GRAY,T.SOLID),i=new T(A.GRAY,T.DASH),n=Math.round(this.props.topLeft.x/this.props.gridStep)*this.props.gridStep,s=Math.round(this.props.topLeft.y/this.props.gridStep)*this.props.gridStep,r=!1,a=!1,o=0,c=0,h=Math.round(n/this.props.gridStep),l=Math.round(s/this.props.gridStep),p=Math.round(this.props.realWidth/this.props.gridStep),u=Math.round(this.props.realHeight/this.props.gridStep);for(this.gridPointsX=new Array(p),this.gridPointsY=new Array(u),this.gridNumbersX=new Array(p),this.gridNumbersY=new Array(u);!r||!a;){if(!r){var d=n+this.props.gridStep*o,y=R.realToScreen(new m(d,this.props.topLeft.y),this.getRealRect(),this.getScreenRect());h%10===0?e.setLineDash(t.getStroke()):e.setLineDash(i.getStroke()),this.props.show.grid&&(e.beginPath(),e.moveTo(y.x,0),e.lineTo(y.x,this.props.screenHeight),e.stroke()),this.gridPointsX[o]=y.x,this.gridNumbersX[o]=d,o++,h++,d>this.props.topLeft.x+this.props.realWidth&&(r=!0)}if(!a){var v=s-this.props.gridStep*c,g=R.realToScreen(new m(this.props.topLeft.x,v),this.getRealRect(),this.getScreenRect());l%10===0?e.setLineDash(t.getStroke()):e.setLineDash(i.getStroke()),l--,this.props.show.grid&&(e.beginPath(),e.moveTo(0,g.y),e.lineTo(this.props.screenWidth,g.y),e.stroke()),this.gridPointsY[c]=g.y,this.gridNumbersY[c]=v,c++,v<this.props.topLeft.y-this.props.realHeight&&(a=!0)}}e.setLineDash(t.getStroke())}},{key:"drawCoordinates",value:function(e){e.font="10px sans-serif",e.strokeStyle="black";var t,i=0,n=0;this.props.gridStep>=.001&&(n=3),this.props.gridStep>=.01&&(n=2),this.props.gridStep>=.1&&(n=1),this.props.gridStep>=1&&(n=0);var s=0,r="",a=!0,o=!1,c=void 0;try{for(var h,l=this.gridNumbersX[Symbol.iterator]();!(a=(h=l.next()).done);a=!0){var p=h.value;if(null!==p){var u=p.toFixed(n);s<u.length&&(r=u,s=u.length)}}}catch(A){o=!0,c=A}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}t=e.measureText(r).width;var d=!0,y=!1,v=void 0;try{for(var g,f=this.gridPointsX[Symbol.iterator]();!(d=(g=f.next()).done);d=!0){var S=g.value;if(null!==S){if(S>this.props.marginLeft&&S<this.props.screenWidth-this.props.marginRight){var m=this.gridNumbersX[i].toFixed(n),b=1,w=t/this.props.gridStepPixels;w>=1&&(b=2),w>=1.5&&(b=5),Math.round(this.gridNumbersX[i]/this.props.gridStep)%b===0&&e.strokeText(m,S-e.measureText(m).width/2,this.props.marginTop-5)}i++}}}catch(A){y=!0,v=A}finally{try{d||null==f.return||f.return()}finally{if(y)throw v}}i=0;var k=!0,x=!1,O=void 0;try{for(var C,E=this.gridPointsY[Symbol.iterator]();!(k=(C=E.next()).done);k=!0){var P=C.value;if(null!==P){if(P>this.props.marginTop&&P<this.props.screenHeight-this.props.marginBottom){var j=this.gridNumbersY[i].toFixed(n);t=e.measureText(j).width;var L=e.measureText("12").width,R=1,T=L/this.props.gridStepPixels;T>.8&&T<1.5&&(R=2),T>=1.5&&(R=5),Math.round(this.gridNumbersY[i]/this.props.gridStep)%R===0&&e.strokeText(j,this.props.marginLeft-t,P+L/3)}i++}}}catch(A){x=!0,O=A}finally{try{k||null==E.return||E.return()}finally{if(x)throw O}}}},{key:"drawShape",value:function(e,t){e.drawSelf(t,this.getRealRect(),this.getScreenRect())}},{key:"paint",value:function(e){e.fillStyle="white",e.lineWidth=1,e.lineJoin="round",e.fillRect(0,0,this.props.screenWidth,this.props.screenHeight),this.drawGrid(e),this.drawShape(this.props.xAxe,e),this.drawShape(this.props.yAxe,e);var t="X=".concat(this.props.curCoord.x.toFixed(3)," Y=").concat(this.props.curCoord.y.toFixed(3)," "),i="";this.props.shapeCreator&&(i=this.props.captions.creators[this.props.shapeCreator.getName()].description);var n="";if(this.props.status===Be&&(n=this.props.captions.creators[this.props.shapeCreator.getName()].steps[this.props.shapeCreator.getCurrentStep()],t+="".concat(i,": ").concat(n)),this.props.shapeCreator){var s=null;if(null!=(s=this.props.shapeCreator.getHelperShapes())){var r=!0,a=!1,o=void 0;try{for(var c,h=s[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var l=c.value;this.drawShape(l,e)}}catch(P){a=!0,o=P}finally{try{r||null==h.return||h.return()}finally{if(a)throw o}}}var p;null!=(p=this.props.shapeCreator.getShape())&&this.drawShape(p,e)}if(this.props.status===He&&(n=this.props.captions.pickers[this.props.picker.getName()].steps[this.props.picker.getCurrentStep()],t+="".concat(n)),this.props.picker){var u=this.props.picker.getShape();null!=u&&this.drawShape(u,e);var d=this.props.picker.getHelperShapes();if(null!=d){var y=!0,v=!1,g=void 0;try{for(var f,S=d[Symbol.iterator]();!(y=(f=S.next()).done);y=!0){var m=f.value;this.drawShape(m,e)}}catch(P){v=!0,g=P}finally{try{y||null==S.return||S.return()}finally{if(v)throw g}}}}var b=!0,w=!1,k=void 0;try{for(var x,O=this.props.shapes[Symbol.iterator]();!(b=(x=O.next()).done);b=!0){var C=x.value;this.drawShape(C,e),C.activePointMarker&&this.drawShape(C.activePointMarker,e)}}catch(P){w=!0,k=P}finally{try{b||null==O.return||O.return()}finally{if(w)throw k}}if(e.lineWidth=1,e.setLineDash(T.SOLID),e.fillStyle="white",e.fillRect(0,0,this.props.screenWidth-this.props.marginRight,this.props.marginTop),e.fillRect(0,0,this.props.marginLeft,this.props.screenHeight),e.fillRect(this.props.screenWidth-this.props.marginRight,0,this.props.screenWidth,this.props.screenHeight),e.fillRect(this.props.marginLeft,this.props.screenHeight-this.props.marginBottom,this.props.screenWidth-this.props.marginRight,this.props.screenHeight-this.props.marginTop),e.strokeStyle="black",e.strokeRect(this.props.marginLeft,this.props.marginTop,this.props.screenWidth-this.props.marginRight-this.props.marginLeft,this.props.screenHeight-this.props.marginBottom-this.props.marginTop),this.drawCoordinates(e),e.font="12px sans-serif",e.strokeText(t,this.props.marginLeft,this.props.screenHeight-this.props.statusBar),this.props.status!==De){var E=this.props.snapMarkersManager.getActiveMarker();null!=E&&(E.refresh(this.getRealRect(),this.getScreenRect()),this.drawShape(E.getMarker(),e))}e.lineWidth=1,this.props.status===Ie&&this.drawShape(this.props.selectionManager.getSelectionShape(),e),this.mouseOnScreen&&this.drawCursor(e)}},{key:"isOutRect",value:function(e){return e.x<this.props.marginLeft||e.x>this.props.screenWidth-this.props.marginRight||e.y<this.props.marginTop||e.y>this.props.screenHeight-this.props.marginBottom}},{key:"mmove",value:function(e){var t=e.target.getBoundingClientRect(),i={x:e.clientX-t.left,y:e.clientY-t.top};this.mouseOnScreen=!this.isOutRect(i);var n={x:this.props.curCoord.x,y:this.props.curCoord.y};if(this.props.status===_e){n=R.screenToReal(i.x,i.y,this.props.screenWidth,this.props.screenHeight,this.props.topLeft,this.props.bottomRight);var s=i.x-this.dragX0,r=i.y-this.dragY0;this.dragX0=i.x,this.dragY0=i.y;var a=this.props.realWidth*s/this.props.screenWidth,o=this.props.realHeight*r/this.props.screenHeight;return this.props.actions.setTopLeft({x:this.props.topLeft.x-a,y:this.props.topLeft.y+o}),void this.props.actions.setBoundedCircle()}this.isOutRect(i)&&(i.x=this.prevPoint.x,i.y=this.prevPoint.y),(n=R.screenToReal(i.x,i.y,this.props.screenWidth,this.props.screenHeight,this.props.topLeft,this.props.bottomRight)).x=+n.x.toFixed(4),n.y=+n.y.toFixed(4),this.prevPoint.x=i.x,this.prevPoint.y=i.y;var c={x:n.x,y:n.y};if(this.props.gridSnap&&this.props.status!==De){var h=Math.round(c.x/this.props.gridStep)*this.props.gridStep,l=Math.round(c.y/this.props.gridStep)*this.props.gridStep,p=h-c.x,u=l-c.y;Math.sqrt(p*p+u*u)<=this.props.snapMinDist*this.props.pixelRatio&&(this.isOutRect(R.realToScreen({x:h,y:l},this.getRealRect(),this.getScreenRect()))||(c.x=h,c.y=l,i=R.realToScreen(c,this.getRealRect(),this.getScreenRect())))}if(this.props.status!==De){var d=this.props.snapMarkersManager.getDistanceToNearestMarker(c,this.props.snapDist*this.props.pixelRatio);d>=0&&d<=this.props.snapMinDist*this.props.pixelRatio&&(c=this.props.snapMarkersManager.getActiveMarker().getPos(),i=R.realToScreen(c,this.getRealRect(),this.getScreenRect()))}n=c,this.props.status===De&&this.props.shapeManager.setShapeNearPoint(n,this.props.selectDist*this.props.pixelRatio),this.props.status===Ie&&(this.props.selectionManager.setCurrent(n),this.props.shapeManager.setShapeInRect(this.prevCoord,n)),this.props.status===Be&&this.props.shapeCreator.setCurrent(n),this.props.status===He&&this.props.picker.setCurrent(n),this.props.actions.setCurCoord(n)}},{key:"mdown",value:function(e){if(1===e.button){var t=e.target.getBoundingClientRect(),i={x:e.clientX-t.left,y:e.clientY-t.top};this.dragX0=i.x,this.dragY0=i.y,this.props.actions.setScreenStatus(_e),e.preventDefault()}if(0===e.button){var n=e.target.getBoundingClientRect();this.curPoint.x=e.clientX-n.left,this.curPoint.y=e.clientY-n.top,this.props.status===De&&(this.prevCoord=R.screenToReal(this.curPoint.x,this.curPoint.y,this.props.screenWidth,this.props.screenHeight,this.props.topLeft,this.props.bottomRight),this.props.selectionManager.reset(),this.props.selectionManager.setNext(R.screenToReal(this.curPoint.x,this.curPoint.y,this.props.screenWidth,this.props.screenHeight,this.props.topLeft,this.props.bottomRight)),this.props.actions.setScreenStatus(Ie)),this.props.actions.repaint(),e.preventDefault()}}},{key:"mup",value:function(e){1===e.button&&this.props.actions.setPrevStatus(),0===e.button&&this.props.status===Ie&&this.props.actions.cancel()}},{key:"mwheel",value:function(e){if(this.props.status!==_e){var t=e.target.getBoundingClientRect(),i=R.screenToReal(e.clientX-t.left,e.clientY-t.top,this.props.screenWidth,this.props.screenHeight,this.props.topLeft,this.props.bottomRight);e.deltaY>0?this.props.realWidth<=1e3&&this.props.actions.setScale(1.2,i):this.props.pixelRatio>=.001&&this.props.actions.setScale(1/1.2,i),e.preventDefault()}}},{key:"mleave",value:function(){this.props.status===_e&&this.props.actions.setPrevStatus(),this.mouseOnScreen=!1,this.props.actions.repaint()}},{key:"menter",value:function(){}},{key:"onclick",value:function(e){0===e.button&&(this.props.status===Be&&(this.props.shapeCreator.setCurrent(this.props.curCoord),this.props.shapeCreator.isLegal()&&this.props.shapeCreator.setNextPoint(this.props.curCoord),this.props.shapeCreator.isNext()||(this.props.shapes.push(this.props.shapeCreator.getShape()),this.props.actions.refreshSnapMarkers(),this.props.actions.refreshShapeManager(),this.props.cyclicCreation?this.props.actions.createShape(this.props.shapeCreator.reset(this.props.boundedCircle)):this.props.actions.cancel())),this.props.status===De&&this.props.shapeManager.toggleShapeSelected(),this.props.status===He&&(this.props.picker.setNextPoint(this.props.curCoord),this.props.picker.isNext()||(this.props.actions.setPickedData(this.props.picker.getPickedData()),this.props.actions.refreshSnapMarkers(),this.props.actions.refreshShapeManager()))),this.props.actions.selectShapes(this.props.shapeManager.getSelectedShapes()),e.preventDefault()}},{key:"resize",value:function(){var e=window.getComputedStyle(document.querySelector(".screenContainer")),t=Number.parseInt(e.width),i=Number.parseInt(e.height);this.props.actions.setDimensions(t,i,this.props.realWidth,this.props.topLeft),this.canvas.width=t,this.canvas.height=i,this.props.actions.setBoundedCircle()}},{key:"componentDidMount",value:function(){var e=this;this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.addEventListener("mousewheel",this.mwheel.bind(this),{passive:!1}),this.paint(this.ctx),window.addEventListener("load",function(){e.resize(),e.props.actions.centerToPoint(new m(0,0)),e.props.actions.repaint(),document.body.oncontextmenu=function(){return!1}}),window.addEventListener("resize",function(){e.resize()}),window.addEventListener("keydown",function(t){!1!==window.KEYDOWNHANDLE&&e.props.keyDownHandler.forEach(function(i){t.ctrlKey===i.ctrlKey&&t.shiftKey===i.shiftKey&&t.altKey===i.altKey&&t.keyCode===i.keyCode&&(e.props.actions[i.action]&&e.props.actions[i.action](i.param),t.preventDefault())})})}},{key:"componentDidUpdate",value:function(){this.props.shapeManager.setShapes(this.props.shapes,this.props.selectionType),this.canvas.style.cursor="none",this.paint(this.ctx)}},{key:"render",value:function(){return s.a.createElement("canvas",{ref:this.refCanvas,id:"canvas",width:this.props.screenWidth,height:this.props.screenHeight,onMouseMove:this.mmove.bind(this),onMouseDown:this.mdown.bind(this),onMouseUp:this.mup.bind(this),onMouseLeave:this.mleave.bind(this),onMouseEnter:this.menter.bind(this),onClick:this.onclick.bind(this)})}}]),t}(s.a.Component);I.MARKER_SIZE=.005,I.SNAP_MARKER_SIZE=5;var B="ADD_SHAPE",K="CANCEL",_="CANCEL_SELECTION",H="CENTER_TO_POINT",W="CREATE_SHAPE",F="DELETE_CONFIRM",Y="DELETE_SELECTED_SHAPES",U="PAN_SCREEN",Z="PICK",q="REFRESH_SHAPE_MANAGER",G="REFRESH_SNAP_MARKERS",V="REPAINT",X="SELECT_ALL",z="SELECT_SHAPE",$="SET_BOUNDED_CIRCLE",J="SET_CUR_COORD",Q="SET_CYCLIC_FLAG",ee="SET_DIMENSIONS",te="SET_GRID_SNAP",ie="SET_GRID_VISIBLE",ne="SET_PICKED_DATA",se="SET_PREV_STATUS",re="SET_RATIO",ae="SET_REAL_WIDTH",oe="SET_SCALE",ce="SET_SCREEN_CONTEXT",he="SET_SELECTION_TYPE",le="SET_SNAP",pe="SET_STATUS",ue="SET_TOP_LEFT",de="START_PICKING",ye="START_SELECTION";function ve(){return{type:K}}function ge(){return{type:F}}function fe(){return{type:Y}}function Se(){return{type:V}}function me(e){return{type:ne,payload:e}}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.FREE,t=arguments.length>1?arguments[1]:void 0,i=null,n=null;switch(e){case Ie:n=ye;break;case Be:n=W,i={creator:t.creator};break;case Ke:n=K;break;case _e:n=U;break;case He:n=Z,i={picker:t.picker}}return{type:n,payload:i}}function we(e,t){return{type:de,payload:{id:e,picker:t}}}var ke="CREATE_SHAPE",xe="SET_PROPERTY";var Oe=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth();e.beginPath(),e.moveTo(this.p0.x-15,this.p0.y),e.lineTo(this.p0.x+15,this.p0.y),e.moveTo(this.p0.x,this.p0.y-15),e.lineTo(this.p0.x,this.p0.y+15),e.strokeRect(this.p0.x-3,this.p0.y-3,6,6),e.stroke()}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.p,e,t)}},{key:"setCoord",value:function(e){this.p=e}}]),t}(N),Ce=function(){function e(t){Object(o.a)(this,e),this.allShapes=t}return Object(c.a)(e,[{key:"setShapes",value:function(e,t){this.allShapes=e,this.selType=t}},{key:"setShapeNearPoint",value:function(e,t){var i=null;this.allShapes.forEach(function(n){var s=n.getDistance(e);null!==s&&s<=t&&(i=n),n.setState({highlighted:!1})}),null!==i&&i.setState({highlighted:!0})}},{key:"setShapeInRect",value:function(e,t){var i=this,n=Object(S.a)({},e),s=Object(S.a)({},t);e.x>t.x&&(n.x=t.x,s.x=e.x),e.y<t.y&&(n.y=t.y,s.y=e.y);var r=[];this.allShapes.forEach(function(e){if(e.isInRect){var t=e.isInRect(n,s),a=t.cross,o=t.full,c=!1;"fullSelect"===i.selType&&!0===o&&(c=!0),"crossSelect"===i.selType&&!0===a&&(c=!0),"crossSelect"===i.selType&&!0===o&&(c=!0),c&&r.push(e),e.setState({highlighted:!1})}}),0!==r.length&&r.forEach(function(e){e.setState({highlighted:!0})})}},{key:"toggleShapeSelected",value:function(){this.allShapes.forEach(function(e){e.getState().highlighted&&e.setState({selected:!e.getState().selected})})}},{key:"getSelectedShapes",value:function(){return this.allShapes.filter(function(e){return!0===e.getState().selected})}}]),e}(),Ee=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth();e.beginPath(),e.moveTo(this.p0.x-10,this.p0.y),e.lineTo(this.p0.x+10,this.p0.y),e.moveTo(this.p0.x,this.p0.y-10),e.lineTo(this.p0.x,this.p0.y+10),e.stroke()}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.p,e,t)}},{key:"setCoord",value:function(e){this.p=e}}]),t}(N),Pe=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).line=e,i.model=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),null!==this.p0&&null!==this.p1&&(e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.stroke())}},{key:"refresh",value:function(e,t){var i=new m(e.topLeft.x+e.width,e.topLeft.y-e.height),n=R.midPoint(e.topLeft,i),s=R.distance(e.topLeft,i)/2,r=new E(n,s),a=L.CircleSLine(r,this.line);if(null!==a){if(1===a.length){var o=this.p[0];(a=new Array(2))[0]=o,a[1]=a[0]}this.p0=R.realToScreen(a[0],e,t),this.p1=R.realToScreen(a[1],e,t)}else this.p0=null,this.p1=null}},{key:"setActivePoint",value:function(){this.activePoint=null}},{key:"getMarkers",value:function(){return null}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"SLine",regexp:/\s*/}),e.set("A",{value:this.line.a,regexp:/^-?\d*\.?\d*$/}),e.set("B",{value:this.line.b,regexp:/^-?\d*\.?\d*$/}),e.set("C",{value:this.line.c,regexp:/^-?\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"A":0===this.line.b&&0===e.value||(this.line.a=e.value);break;case"B":0===this.line.a&&0===e.value||(this.line.b=e.value);break;case"C":this.line.c=e.value}}},{key:"getDistance",value:function(e){return R.PointToSLineDistance(e,this.line)}},{key:"isInRect",value:function(e,t){return{cross:L.RectangleSLine(e,t,this.line).length>0,full:!1}}},{key:"toString",value:function(){return"Line ".concat(this.line.a,"X+").concat(this.line.b,"Y+").concat(this.line.c,"=0")}}]),t}(N),je=function(){function e(){Object(o.a)(this,e),this.snapSet=new Set,this.snapMarkersActive=new Set,this.snapMarkersAll=new Set,this.activeMarker=null}return Object(c.a)(e,[{key:"addSnap",value:function(e){this.snapSet.add(e),this.refreshMarkerList()}},{key:"removeSnap",value:function(e){this.snapSet.delete(e),this.refreshMarkerList()}},{key:"addSnapMarkers",value:function(e){if(null!==e){var t=!0,i=!1,n=void 0;try{for(var s,r=e[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;this.snapMarkersAll.add(a),this.snapSet.has(a.constructor)&&this.snapMarkersActive.add(a)}}catch(o){i=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}}}},{key:"refreshMarkerList",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,s=this.snapMarkersAll[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var r=n.value;this.snapSet.has(r.constructor)&&this.snapMarkersActive.add(r)}}catch(u){t=!0,i=u}finally{try{e||null==s.return||s.return()}finally{if(t)throw i}}var a=!0,o=!1,c=void 0;try{for(var h,l=this.snapMarkersActive[Symbol.iterator]();!(a=(h=l.next()).done);a=!0){var p=h.value;this.snapSet.has(p.constructor)||this.snapMarkersActive.delete(p)}}catch(u){o=!0,c=u}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}}},{key:"clear",value:function(){this.snapMarkersAll.clear(),this.snapMarkersActive.clear()}},{key:"getDistanceToNearestMarker",value:function(e,t){var i=null,n=t,s=!0,r=!1,a=void 0;try{for(var o,c=this.snapMarkersActive[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var h=o.value,l=R.distance(h.getPos(),e);l<=t&&l<=n&&(i=h,n=l)}}catch(p){r=!0,a=p}finally{try{s||null==c.return||c.return()}finally{if(r)throw a}}return this.activeMarker=i,null!=i?n:-1}},{key:"getActiveMarker",value:function(){return this.activeMarker}}]),e}(),Le=function(){function e(t){Object(o.a)(this,e),this.creator=t,this.selectionCreator=new t}return Object(c.a)(e,[{key:"setNext",value:function(e){this.selectionCreator.setNextPoint(e)}},{key:"setCurrent",value:function(e){this.selectionCreator.setCurrent(e)}},{key:"getSelectionShape",value:function(){return this.selectionCreator.getShape()}},{key:"reset",value:function(){this.selectionCreator=new this.creator}}]),e}(),Re=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).rectangle=e,i.rect=new C,i.setStyle(new T(A.SELECTION_AREA,T.SELECTION)),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.strokeRect(this.rect.topLeft.x,this.rect.topLeft.y,this.rect.width,this.rect.height)}},{key:"refresh",value:function(e,t){this.rect.topLeft=R.realToScreen(this.rectangle.topLeft,e,t),this.rect.width=R.realToScreenLength(this.rectangle.width,e.width,t.width),this.rect.height=R.realToScreenLength(this.rectangle.height,e.height,t.height)}},{key:"getModel",value:function(){return this.rectangle}},{key:"getMarkers",value:function(){return[]}},{key:"getProperties",value:function(){return new Map}},{key:"setProperty",value:function(e){Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e)}},{key:"toString",value:function(){return"RectSelection"}}]),t}(N),Te=function(){function e(t){Object(o.a)(this,e),this.i=0,this.boundedCircle=t,this.legal=!0}return Object(c.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"getHelperShapes",value:function(){return this.helperShapes}},{key:"isNext",value:function(){return this.i<this.points.length}},{key:"setNextPoint",value:function(e){this.setCurrent(e),this.i++}},{key:"isLegal",value:function(){return this.legal}},{key:"refresh",value:function(e){this.boundedCircle=e,null!=this.points[this.i]&&this.setControlPoints()}},{key:"setStyle",value:function(e){this.style=e}},{key:"getCurrentStep",value:function(){return this.i}},{key:"getName",value:function(){return this.name}}]),e}(),Ae=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).rectangle=new C,n.points=new Array(2),n.name="SelectRectCreator",n.shape=new Re(n.rectangle),n.helperShapes=[],n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.rectangle=new C(this.points[0],this.points[1])),this.shape=new Re(this.rectangle))}},{key:"setControlPoints",value:function(){}},{key:"reset",value:function(){return new t}}]),t}(Te);Ae.caption="RectSelection";var Me=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawArrow",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.moveTo(t[2].x,t[2].y),e.lineTo(t[1].x,t[1].y),e.moveTo(t[1].x,t[1].y),e.lineTo(t[3].x,t[3].y),e.stroke()}},{key:"drawSelf",value:function(e,t,i){var n=this;this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=2;var s=new Array(4);s[0]=this.p0,s[1]={x:s[0].x,y:s[0].y-10},s[2]={x:s[0].x-10/3,y:s[0].y-20/3},s[3]={x:s[0].x+10/3,y:s[0].y-20/3},this.drawArrow(e,s),this.drawArrow(e,s.map(function(e){return R.rotatePoint(e,Math.PI/2,n.p0)})),this.drawArrow(e,s.map(function(e){return R.rotatePoint(e,Math.PI,n.p0)})),this.drawArrow(e,s.map(function(e){return R.rotatePoint(e,3*Math.PI/2,n.p0)}))}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.p,e,t)}},{key:"setCoord",value:function(e){this.p=e}}]),t}(N),Ne=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth();e.beginPath(),e.moveTo(this.p0.x,this.p0.y-10),e.lineTo(this.p0.x,this.p0.y+10),e.moveTo(this.p0.x-10,this.p0.y),e.lineTo(this.p0.x+10,this.p0.y),e.arc(this.p0.x,this.p0.y,10,0,2*Math.PI),e.stroke()}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.p,e,t)}},{key:"setCoord",value:function(e){this.p=e}}]),t}(N),De="FREE",Ie="SELECT",Be="CREATE",Ke="CANCEL",_e="PAN",He="PICK",We="PICK_END",Fe=new Pe(new k(0,1,0),new E(new m(0,0),8)),Ye=new Pe(new k(1,0,0),new E(new m(0,0),8));Fe.setStyle(new T(A.RED,T.SOLID)),Ye.setStyle(new T(A.RED,T.SOLID));var Ue={bottomRight:{x:10,y:-10},curCoord:{x:0,y:0},cursor:new Oe({x:0,y:0}),curShape:null,cyclicCreation:!1,gridSnap:!1,gridStep:1,gridStepPixels:1,marginTop:15,marginLeft:40,marginBottom:15,marginRight:10,pickedData:{data:null,editId:0,fix:!1},picker:null,prevStatus:De,ratio:1,pixelRatio:1,realWidth:20,realHeight:20,repaint:0,screenHeight:550,screenWidth:550,selectedShapes:[],selectDist:2,selectionManager:new Le(Ae),selectionType:"crossSelect",shapes:[],shapeCreator:null,shapeManager:new Ce,show:{grid:!0},snap:{snapClass:null,snap:!1},snapDist:20,snapMinDist:10,snapMarkersManager:new je,status:De,statusBar:5,statusParams:{creator:null,picker:null},topLeft:{x:-10,y:10},xAxe:Fe,yAxe:Ye};function Ze(e,t,i,n,s){var r=e/t,a=i*r,o=Math.round(s/r),c={};return c.x=n.x+e,c.y=n.y-a,{realWidth:e,realHeight:a,pixelRatio:r,gridStepPixels:o,bottomRight:c,gridStep:s}}var qe={devUrl:"",_devUrl:""},Ge="SET_LANGUAGE",Ve="SHOW_HELP",Xe="SHOW_CONFIRM",ze="SHOW_ALERT";function $e(e){return{type:Ge,payload:e}}function Je(e){return{type:Ve,payload:e}}function Qe(e,t,i){return{type:Xe,payload:{show:e,messageKey:t,okAction:i}}}function et(e,t){return{type:ze,payload:{show:e,messageKey:t}}}function tt(){var e=document.querySelector(".modalContainer > .toolBar"),t=e.style.backgroundColor,i=0,n=setInterval(function(){e.style.backgroundColor===t?e.style.backgroundColor="red":e.style.backgroundColor=t,++i>3&&(clearInterval(n),e.style.backgroundColor=t)},40)}var it={about:{name:"\xa9 Takhmazov Borys, 2018-2019",email:"E-Mail: tboris1983@gmail.com"},user:{name:""},buttons:{cancel:"Cancel",logout:"Log out",showPass:"Show password",pick:"Pick"},registerForm:{title:"Sign up",name:"Nickname",email:"E-Mail",password:"Password",passwordAgain:"Password again",serverMessages:["","User already exists","E-Mail already exists","","","Internal server error"],inputMessages:["Name length too short (4 char at least)","Name can contain only letters, digits and _","Password too short (6 char at least)","Passwords aren't equal","E-mail format incorrect"]},loginForm:{title:"Sign in",name:"Name or E-Mail",password:"Password",regForm:"Sign up",rememberMe:"Remember me on this device",messages:["","User data incorrect","User isn't activated yet","","","Internal server error. Please try again"]},activation:{title:"Activation",messages:["Activation succeeded. You can now sign in with your login and password.","Activation code is incorrect or expired","","","","Server internal error"]},title:"Geometry editor",messages:{deleteShapes:"Delete selected shapes?",logout:"Do you want to log out?",regSucceed:"Registration succeeded. Please check you mailbox to activate account"},create:{createToolBar:"Create",createCheckBox:"Cyclic",createSLine2Points:"Straight line",createRayLine2Points:"Ray line",createSegmentLine2Points:"Segment line",createCircleCenter:"Circle by center",createCircle2P:"Circle by 2 points",createCircle3P:"Circle by 3 points",createRect:"Rectangle by 2 points",createRectCenter:"Rectangle by center",createTriangle:"Triangle",createTriangleInscribed:"Triangle inscribed in circle",createTriangleDescribed:"Triangle described about circle",createParabola:"Parabola",createHyperbola:"Hyperbola",createFunction:"User defined function",development:"(in development)"},modify:{crossSelect:"Partial selection",fullSelect:"Full selection"},snap:{snapToggleBar:"Snap",snapGridPoints:"Snap to grid points",snapEndPoints:"Snap to end points",snapCenterPoints:"Snap to center points",snapMiddlePoints:"Snap to middle points"},showGrid:"Show grid",propBar:"Properties",noShapesSelected:"No shapes selected",NShapesSelected:" shapes selected",deleteButton:"Delete",shapes:{Circle:{Title:"Circle",Radius:"Radius",Center:"Center"},Rectangle:{Title:"Rectangle",P1:"P1",P2:"P2"},Line:{Title:"Line",P1:"P1",P2:"P2"},SLine:{Title:"Straight Line AX+BY+C=0",A:"A",B:"B",C:"C"},RLine:{Title:"Ray Line",Origin:"Origin",Direction:"Direction"},Triangle:{Title:"Triangle",P1:"P1",P2:"P2",P3:"P3"}},pickers:{PointPicker:{description:"",steps:["Select point"]},DistancePicker:{description:"",steps:["Select 1st point","Select 2nd point"]}},creators:{StraightLineCreator:{description:"Straight Line",steps:["Select 1st point","Select 2nd point"]},RayLineCreator:{description:"Ray Line",steps:["Select origin point","Select direction point"]},LineCreator:{description:"Segment Line",steps:["Select first point","Select second point"]},CircleCRCreator:{description:"Circle",steps:["Select center point","Select radius point"]},Circle2PCreator:{description:"Circle",steps:["Select first point","Select second point"]},Circle3PCreator:{description:"Circle",steps:["Select first point","Select second point","Select third point"]},RectangleCreator:{description:"Rectangle",steps:["Select first point","Select second point"]},TriangleCreator:{description:"Triangle",steps:["Select first point","Select second point","Select third"]},SelectRectCreator:{description:"",steps:["","Specify second selection point"]}},help:{title:"Reference",hotKeys:[{key:"ESC",desc:"Cancel"},{key:"Ctrl-A",desc:"Select all"},{key:"Del",desc:"Delete selected"},{key:"C",desc:"View to origin"},{key:"Mouse wheel",desc:"Zoom +/-"},{key:"Mouse middle button",desc:"Move screen"}]}},nt={captions:it,keyDownHandler:[{ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:65,action:"selectAll",param:null},{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:46,action:"deleteConfirm",param:null},{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:67,action:"centerToPoint",param:{x:0,y:0}},{ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:27,action:"cancelSelection",param:null}]};var st="SET_ACTIVE_SNAP_BUTTON",rt="CLEAR_ACTIVE_SNAP_BUTTON",at="SET_ACTIVE_CREATE_BUTTON",ot="SET_ACTIVE_LANG_BUTTON";var ct={activeLangButton:"en",defaultLang:"en",activeSnapButtons:new Set,showHelp:!1,showConfirm:{show:!1,message:""},showAlert:{show:!1,message:""}};var ht="SET_TOKEN",lt="LOGOUT";function pt(){return{type:lt}}var ut=i(29),dt=i.n(ut),yt={},vt=document.cookie.split("=")[1];vt?yt={name:dt()(vt).name,token:vt}:yt.name=it.user.name;var gt=Object(v.c)({shapes:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:f},screen:function(){var e,t,i,n,s,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case B:return o.shapes.push(c.payload),Object(S.a)({},o);case K:return Object(S.a)({},o,{status:De,curShape:null,curHelperShapes:null,shapeCreator:null,picker:null,creationStep:"",currentShape:"",cursor:new Oe(o.curCoord),repaint:Math.random()});case _:return o.shapes.forEach(function(e){return e.setState({selected:!1})}),Object(S.a)({},o,{status:De,selectedShapes:[],curShape:null,curHelperShapes:null,shapeCreator:null,picker:null,creationStep:"",currentShape:"",cursor:new Oe(o.curCoord),repaint:Math.random()});case H:var h=c.payload,l=o.realWidth-(o.marginLeft+o.marginRight)*o.pixelRatio,p=o.realHeight-(o.marginTop+o.marginBottom)*o.pixelRatio;return e={x:h.x-l/2-o.marginLeft*o.pixelRatio,y:h.y+p/2+o.marginTop*o.pixelRatio},(i={}).x=e.x+o.realWidth,i.y=e.y-o.realHeight,t=R.screenToReal(o.screenWidth/2,o.screenHeight/2,o.screenWidth,o.screenHeight,e,i),a=Math.sqrt(o.realWidth*o.realWidth+o.realHeight*o.realHeight)/2,n=new E(t,a),null!=o.shapeCreator&&o.shapeCreator.refresh(n),Object(S.a)({},o,{topLeft:e,bottomRight:i});case W:return Object(S.a)({},o,{status:Be,shapeCreator:c.payload,curShape:null,curHelperShapes:null,cursor:new Ee(o.curCoord)});case Y:return Object(S.a)({},o,{shapes:o.shapes.filter(function(e){return!e.getState().selected}),selectedShapes:[]});case U:return Object(S.a)({},o,{status:_e,prevStatus:o.status,prevCursor:o.cursor,cursor:new Me(o.curCoord)});case G:o.snapMarkersManager.clear();var u=!0,d=!1,y=void 0;try{for(var v,g=o.shapes[Symbol.iterator]();!(u=(v=g.next()).done);u=!0){var f=v.value;o.snapMarkersManager.addSnapMarkers(f.getMarkers())}}catch(I){d=!0,y=I}finally{try{u||null==g.return||g.return()}finally{if(d)throw y}}return Object(S.a)({},o);case q:return o.shapeManager=new Ce(o.shapes),Object(S.a)({},o);case V:return Object(S.a)({},o,{repaint:Math.random()});case X:var m=[];return o.shapes.forEach(function(e,t){t>1&&(e.setState({selected:!0}),m.push(e))}),Object(S.a)({},o,{selectedShapes:m});case z:return Object(S.a)({},o,{selectedShapes:c.payload});case $:return t=R.screenToReal(o.screenWidth/2,o.screenHeight/2,o.screenWidth,o.screenHeight,o.topLeft,o.bottomRight),a=Math.sqrt(o.realWidth*o.realWidth+o.realHeight*o.realHeight)/2,n=new E(t,a),null!=o.shapeCreator&&o.shapeCreator.refresh(n),Object(S.a)({},o,{boundedCircle:n});case ee:return r=(s=c.payload).height*s.realWidth/s.width,Object(S.a)({},o,{screenWidth:s.width,screenHeight:s.height,realWidth:s.realWidth,ratio:s.width/s.height,pixelRatio:s.realWidth/o.screenWidth,realHeight:r,bottomRight:{x:o.topLeft.x+s.realWidth,y:o.topLeft.y-r}});case J:return Object(S.a)({},o,{curCoord:c.payload});case Q:return Object(S.a)({},o,{cyclicCreation:c.payload});case te:return Object(S.a)({},o,{gridSnap:c.payload});case ie:return Object(S.a)({},o,{show:{grid:c.payload}});case de:return Object(S.a)({},o,{status:He,pickedData:{data:o.pickedData.data,editId:c.payload.id},picker:c.payload.picker,cursor:new Ne(o.curCoord)});case ye:return Object(S.a)({},o,{status:Ie});case ne:return Object(S.a)({},o,{status:We,pickedData:{data:c.payload,editId:o.pickedData.editId}});case se:return Object(S.a)({},o,{status:o.prevStatus,cursor:o.prevCursor});case xe:var b=!0,w=!1,k=void 0;try{for(var x,O=o.selectedShapes[Symbol.iterator]();!(b=(x=O.next()).done);b=!0){var C=x.value;C.getProperties().has(c.payload.key)&&C.setProperty({key:c.payload.key,value:c.payload.value})}}catch(I){w=!0,k=I}finally{try{b||null==O.return||O.return()}finally{if(w)throw k}}return Object(S.a)({},o);case re:return Object(S.a)({},o,{ratio:c.payload});case ae:return(s=Ze(c.payload,o.screenWidth,o.screenHeight,o.topLeft,o.gridStep)).gridStepPixels=Math.round(s.gridStep/s.pixelRatio),Object(S.a)({},o,s);case oe:var P=c.payload,j=P.scale,L=P.anchor;e=o.topLeft;var T=L.x-e.x,A=L.y-e.y;s=Ze(o.realWidth*j,o.screenWidth,o.screenHeight,e,o.gridStep),T*=j,A*=j,e={x:L.x-T,y:L.y-A},(i={}).x=e.x+s.realWidth,i.y=e.y-s.realHeight,t=R.screenToReal(o.screenWidth/2,o.screenHeight/2,o.screenWidth,o.screenHeight,e,i),a=Math.sqrt(s.realWidth*s.realWidth+s.realHeight*s.realHeight)/2,n=new E(t,a),null!=o.shapeCreator&&o.shapeCreator.refresh(n),s.gridStep/s.pixelRatio<10?s.gridStep<1e6&&(s.gridStep=10*s.gridStep):s.gridStep/s.pixelRatio>100&&s.gridStep>.001&&(s.gridStep=s.gridStep/10),s.gridStepPixels=Math.round(s.gridStep/s.pixelRatio);var M=s.realWidth/o.screenWidth;return Object(S.a)({},o,s,{topLeft:e,bottomRight:i,boundedCicle:n,pixelRatio:M});case ce:return Object(S.a)({},o,{context:c.payload});case he:return Object(S.a)({},o,{selectionType:c.payload});case le:return!0===c.payload.snap?o.snapMarkersManager.addSnap(c.payload.snapClass):o.snapMarkersManager.removeSnap(c.payload.snapClass),Object(S.a)({},o);case pe:return Object(S.a)({},o,{status:c.payload.status,prevStatus:c.payload.status,statusParams:c.payload.params});case ue:var N=c.payload,D={};return D.x=N.x+o.realWidth,D.y=N.y-o.realHeight,Object(S.a)({},o,{topLeft:N,bottomRight:D});default:return o}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return document.title=t.payload.title,Object(S.a)({},e,{captions:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:var i;return t.payload.token?(i=!0===t.payload.remember?";expires=Tue, 19 Jan 2099 00:00:00 GMT":"",document.cookie="token=".concat(t.payload.token).concat(i),yt={name:dt()(t.payload.token).name,token:t.payload.token}):yt.name=it.user.name,yt;case lt:return document.cookie="token=",{};default:return e}},components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,i=Object(S.a)({},e),n=t.payload;switch(i.activeButtons||(i.activeButtons=new Set),t.type){case K:return Object(S.a)({},i,{activeCreateButton:null});case at:return i.activeCreateButton=n,i;case ot:return i.activeLangButton=n,i;case st:return i.activeSnapButtons.add(n),i;case rt:return i.activeSnapButtons.delete(n),i;case pe:return n.status===De?Object(S.a)({},e,{activeCreateButton:""}):Object(S.a)({},e);case Ve:return Object(S.a)({},e,{showHelp:n});case Xe:return Object(S.a)({},e,{showConfirm:n});case ze:return Object(S.a)({},e,{showAlert:n});case F:return Object(S.a)({},e,{showConfirm:{show:!0,messageKey:"deleteShapes",okAction:fe.bind(null,!1)}});default:return i}}});window.actions=[];var ft=Object(v.d)(gt,Object(v.a)(g.a,function(e){return function(e){return function(t){return window.actions.push(t.type),e(t)}}})),St=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.props.pressed||(this.props.requestLanguage(this.props.lang),this.props.setActiveLangButtonId(this.props.lang))}},{key:"render",value:function(){var e=this.props.pressed?"langToggleButtonDown":"langToggleButtonUp";return s.a.createElement("div",{id:this.props.lang,className:e+" noselect",title:this.props.title,onClick:this.onClick.bind(this)})}}]),t}(s.a.Component),mt=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"langToggleBar"},s.a.createElement(St,{lang:"ru",pressed:"ru"===this.props.pressed,setActiveLangButtonId:this.props.setActiveLangButtonId,requestLanguage:this.props.requestLanguage,title:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}),s.a.createElement(St,{lang:"en",pressed:"en"===this.props.pressed,setActiveLangButtonId:this.props.setActiveLangButtonId,requestLanguage:this.props.requestLanguage,title:"English"}),s.a.createElement(St,{lang:"fr",pressed:"fr"===this.props.pressed,setActiveLangButtonId:this.props.setActiveLangButtonId,requestLanguage:this.props.requestLanguage,title:"Fran\xe7ais"}))}}]),t}(s.a.Component),bt=Object(y.b)(function(e){return{pressed:e.components.activeLangButton}},function(e){return{setActiveLangButtonId:function(t){return e({type:ot,payload:t})},requestLanguage:function(t){return e(function(e){return function(t){fetch(qe.devUrl+"/lang",{method:"POST",body:JSON.stringify({lang:e}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return t($e(e))}).catch(function(e){console.error(e)})}}(t))}}})(mt),wt=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.props.showHelp(!0)}},{key:"render",value:function(){return s.a.createElement("button",{className:"helpButton noselect",onClick:this.onClick.bind(this)},"?")}}]),t}(s.a.Component),kt=Object(y.b)(null,function(e){return{showHelp:function(t){e(Je(t))}}})(wt),xt=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){this.props.showConfirm()}},{key:"render",value:function(){var e=this.props.user.token?s.a.createElement(u.b,{to:"/",onClick:this.logout.bind(this)},s.a.createElement("span",{className:"link"},this.props.cap.buttons.logout)):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.b,{to:"/login"},s.a.createElement("span",{className:"link"},this.props.cap.loginForm.title)),s.a.createElement(u.b,{to:"/register"},s.a.createElement("span",{className:"link"},this.props.cap.registerForm.title)));return s.a.createElement("div",{className:"user noselect"},this.props.user.name?this.props.user.name:"",e)}}]),t}(s.a.Component),Ot=Object(y.b)(function(e){return{user:e.user,cap:e.options.captions}},function(e){return{showConfirm:function(){return e(Qe(!0,"logout",pt))}}})(xt),Ct=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"header"},s.a.createElement(bt,null),s.a.createElement(kt,null),s.a.createElement(Ot,null))}}]),t}(s.a.Component),Et=(i(18),function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).state={pressed:e.activeButtonId===e.id},i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onclick",value:function(){if(!this.props.params||!this.props.params.dev){var e=this.props.activeButtonId===this.props.id,t=this.props.params?Object(S.a)({},this.props.params,{id:this.props.id}):{id:this.props.id};this.props.onClick&&this.props.onClick({pressed:e,params:t}),this.props.setButtonFirst&&this.props.setButtonFirst(this.props.id)}}},{key:"render",value:function(){var e=this.props.activeButtonId===this.props.id,t=this.props.title;this.props.params&&this.props.params.dev&&(t="".concat(t," ").concat(this.props.params.dev));var i=e?"toolButtonDown":"toolButtonUp";return i+=" toolButton",s.a.createElement("div",{id:this.props.id,className:i,onClick:this.onclick.bind(this),title:t})}}]),t}(s.a.Component)),Pt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).state={buttons:e.buttons,firstButton:e.buttons[0].id,expanded:!1},i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onMouseEnter",value:function(){this.setState({expanded:!0})}},{key:"onMouseLeave",value:function(){this.setState({expanded:!1})}},{key:"setButtonFirst",value:function(e){this.setState({firstButton:e,expanded:!1})}},{key:"render",value:function(){var e=this,t=[],i=this.props.buttons.find(function(t){return t.id===e.state.firstButton});t.push(s.a.createElement(Et,{title:i.title,id:i.id,params:i.params,key:0,index:0,onClick:this.props.onClick,activeButtonId:this.props.activeButton,setButtonFirst:this.setButtonFirst.bind(this)}));var n=1;this.props.buttons.forEach(function(i){i.id!==e.state.firstButton&&t.push(s.a.createElement(Et,{title:i.title,id:i.id,params:i.params,key:n,index:n++,onClick:e.props.onClick,activeButtonId:e.props.activeButton,setButtonFirst:e.setButtonFirst.bind(e)}))});var r="toolButtonGroup";return this.state.expanded?r+=" toolButtonGroupExpanded":r+=" toolButtonGroupCollapsed",s.a.createElement("div",{className:r,onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},t)}}]),t}(s.a.Component),jt=i(25),Lt=i(26),Rt=function(){function e(t){Object(o.a)(this,e),this.pos=t}return Object(c.a)(e,[{key:"getMarker",value:function(){return this.markerShape}},{key:"getPos",value:function(){return this.pos}},{key:"setMarker",value:function(e,t){this.pos=e,this.markerShape=t}},{key:"refresh",value:function(e,t){this.markerShape.refresh(e,t)}}]),e}();Rt.MARKER_SIZE=5,Rt.SNAP_MARKER_SIZE=5;var Tt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).circle=new E,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"refresh",value:function(e,i){this.circle.center=this.getPos(),this.circle.radius=e.width/i.width*Rt.SNAP_MARKER_SIZE;var n=new Wt(this.circle);n.setStyle(new T(A.GREEN,T.SOLID)),this.setMarker(this.circle.center,n),Object(M.a)(Object(l.a)(t.prototype),"refresh",this).call(this,e,i)}}]),t}(Rt);Tt.caption="center points";var At=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).point=e,i.setColor(A.ACTIVE_POINT_MARKER),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.fillStyle=this.getStyle().getColor(),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.arc(this.screenCenter.x,this.screenCenter.y,this.screenRadius,0,2*Math.PI),e.fill()}},{key:"refresh",value:function(e,t){this.screenCenter=R.realToScreen(this.point,e,t),this.screenRadius=Rt.MARKER_SIZE/2}}]),t}(N);At.caption="center points";var Mt=function(){function e(){Object(o.a)(this,e),this.i=0}return Object(c.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"getHelperShapes",value:function(){return this.helperShapes}},{key:"getPickedData",value:function(){return this.data}},{key:"isNext",value:function(){return this.i<this.points.length}},{key:"setNextPoint",value:function(e){this.setCurrent(e),this.i++}},{key:"refresh",value:function(e){this.boundedCircle=e,null!=this.points[this.i]&&this.setControlPoints()}},{key:"setStyle",value:function(e){this.style=e}},{key:"getCurrentStep",value:function(){return this.i}},{key:"getName",value:function(){return this.name}}]),e}(),Nt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).name="PointPicker",e.points=[new m],e.helperShapes=[],e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,this.data=e)}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()))}}]),t}(Mt);Nt.caption="";var Dt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=[new m,new m,new m],i.triangle=e,i.model=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.moveTo(this.p[0].x,this.p[0].y),e.lineTo(this.p[1].x,this.p[1].y),e.lineTo(this.p[2].x,this.p[2].y),e.lineTo(this.p[0].x,this.p[0].y),e.stroke()}},{key:"refresh",value:function(e,t){for(var i=0;i<3;i++)this.p[i]=R.realToScreen(this.triangle.points[i],e,t);this.activePoint&&(this.activePointMarker=new At(this.activePoint))}},{key:"setActivePoint",value:function(e){this.activePoint=null,"P1"===e&&(this.activePoint=this.triangle.points[0]),"P2"===e&&(this.activePoint=this.triangle.points[1]),"P3"===e&&(this.activePoint=this.triangle.points[2])}},{key:"getMarkers",value:function(){var e=[];return e.push(new Kt(this.triangle.points[0])),e.push(new Kt(this.triangle.points[1])),e.push(new Kt(this.triangle.points[2])),e.push(new It(R.midPoint(this.triangle.points[0],this.triangle.points[1]))),e.push(new It(R.midPoint(this.triangle.points[1],this.triangle.points[2]))),e.push(new It(R.midPoint(this.triangle.points[2],this.triangle.points[0]))),e}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"Triangle",regexp:/\s*/}),e.set("P1",{value:{x:this.triangle.points[0].x,y:this.triangle.points[0].y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("P2",{value:{x:this.triangle.points[1].x,y:this.triangle.points[1].y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("P3",{value:{x:this.triangle.points[2].x,y:this.triangle.points[2].y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"P1":this.triangle.points[0].x=e.value.x,this.triangle.points[0].y=e.value.y;break;case"P2":this.triangle.points[1].x=e.value.x,this.triangle.points[1].y=e.value.y;break;case"P3":this.triangle.points[2].x=e.value.x,this.triangle.points[2].y=e.value.y}}},{key:"getDistance",value:function(e){var t=new w(this.triangle.points[0],this.triangle.points[1]),i=new w(this.triangle.points[1],this.triangle.points[2]),n=new w(this.triangle.points[2],this.triangle.points[0]);return Math.min(R.PointToLineDistance(e,t),R.PointToLineDistance(e,i),R.PointToLineDistance(e,n))}},{key:"isInRect",value:function(e,t){var i=[R.pointInRect(this.triangle.points[0],e,t),R.pointInRect(this.triangle.points[1],e,t),R.pointInRect(this.triangle.points[2],e,t)].every(function(e){return!0===e});return{cross:[L.LineRectangle(new w(this.triangle.points[0],this.triangle.points[1]),e,t),L.LineRectangle(new w(this.triangle.points[1],this.triangle.points[2]),e,t),L.LineRectangle(new w(this.triangle.points[2],this.triangle.points[0]),e,t)].some(function(e){return e.length>0}),full:i}}},{key:"toString",value:function(){return"Triangle"}}]),t}(N),It=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).triangle=new P,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"refresh",value:function(e,i){var n=this.getPos(),s=e.width/i.width*Rt.SNAP_MARKER_SIZE,r=new Array(3);r[0]=new m(n.x,n.y+s),r[1]=R.rotatePoint(r[0],2*Math.PI/3,n),r[2]=R.rotatePoint(r[1],2*Math.PI/3,n),this.triangle=new P(r);var a=new Dt(this.triangle);a.setStyle(new T(A.GREEN,T.SOLID)),this.setMarker(n,a),Object(M.a)(Object(l.a)(t.prototype),"refresh",this).call(this,e,i)}}]),t}(Rt);It.caption="middle points";var Bt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).rectangle=e,i.model=e,i.rect=new C,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.strokeRect(this.rect.topLeft.x,this.rect.topLeft.y,this.rect.width,this.rect.height)}},{key:"refresh",value:function(e,t){this.rect.topLeft=R.realToScreen(this.rectangle.topLeft,e,t),this.rect.width=R.realToScreenLength(this.rectangle.width,e.width,t.width),this.rect.height=R.realToScreenLength(this.rectangle.height,e.height,t.height),this.activePoint&&(this.activePointMarker=new At(this.activePoint))}},{key:"getMarkers",value:function(){var e=[];return e.push(new Kt(this.rectangle.topLeft)),e.push(new Kt(new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y))),e.push(new Kt(new m(this.rectangle.topLeft.x,this.rectangle.topLeft.y-this.rectangle.height))),e.push(new Kt(new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y-this.rectangle.height))),e.push(new It(R.midPoint(this.rectangle.topLeft,new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y)))),e.push(new It(R.midPoint(new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y),new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y-this.rectangle.height)))),e.push(new It(R.midPoint(new m(this.rectangle.topLeft.x+this.rectangle.width,this.rectangle.topLeft.y-this.rectangle.height),new m(this.rectangle.topLeft.x,this.rectangle.topLeft.y-this.rectangle.height)))),e.push(new It(R.midPoint(new m(this.rectangle.topLeft.x,this.rectangle.topLeft.y-this.rectangle.height),this.rectangle.topLeft))),e}},{key:"setActivePoint",value:function(e){this.activePoint=null,"P1"===e&&(this.activePoint=this.rectangle.topLeft),"P2"===e&&(this.activePoint=this.rectangle.bottomRight)}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"Rectangle",regexp:/\s*/}),e.set("P1",{value:{x:this.rectangle.topLeft.x,y:this.rectangle.topLeft.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("P2",{value:{x:this.rectangle.bottomRight.x,y:this.rectangle.bottomRight.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"P1":this.rectangle.topLeft.x=e.value.x,this.rectangle.topLeft.y=e.value.y;break;case"P2":this.rectangle.bottomRight.x=e.value.x,this.rectangle.bottomRight.y=e.value.y}this.rectangle.width=this.rectangle.bottomRight.x-this.rectangle.topLeft.x,this.rectangle.height=this.rectangle.topLeft.y-this.rectangle.bottomRight.y}},{key:"getDistance",value:function(e){var t=this.rectangle.topLeft,i=new m(t.x+this.rectangle.width,t.y),n=new m(t.x,t.y-this.rectangle.height),s=new m(t.x+this.rectangle.width,t.y-this.rectangle.height),r=new w(t,i),a=new w(n,s),o=new w(i,s),c=new w(t,n);return Math.min(R.PointToLineDistance(e,r),R.PointToLineDistance(e,c),R.PointToLineDistance(e,a),R.PointToLineDistance(e,o))}},{key:"isInRect",value:function(e,t){var i=[R.pointInRect(this.rectangle.topLeft,e,t),R.pointInRect(this.rectangle.bottomRight,e,t)].every(function(e){return!0===e});return{cross:L.RectangleRectangle(e,t,this.rectangle.topLeft,this.rectangle.bottomRight).length>0,full:i}}},{key:"toString",value:function(){return"Rectangle"}}]),t}(N),Kt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).rect=new C,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"refresh",value:function(e,i){var n=this.getPos();this.rect.width=e.width/i.width*Rt.SNAP_MARKER_SIZE,this.rect.height=this.rect.width,this.rect.topLeft.x=n.x-this.rect.width/2,this.rect.topLeft.y=n.y+this.rect.height/2;var s=new Bt(this.rect);s.setStyle(new T(A.DARK_ORANGE,T.SOLID,3)),this.setMarker(n,s),Object(M.a)(Object(l.a)(t.prototype),"refresh",this).call(this,e,i)}}]),t}(Rt);Kt.caption="end points";var _t=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=[],i.p[0]=e.p1,i.p[1]=e.p2,i.line=e,i.model=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.stroke()}},{key:"refresh",value:function(e,t){this.p0=R.realToScreen(this.line.p1,e,t),this.p1=R.realToScreen(this.line.p2,e,t),this.activePoint&&(this.activePointMarker=new At(this.activePoint))}},{key:"getMarkers",value:function(){var e=[];return e.push(new Kt(this.line.p1)),e.push(new Kt(this.line.p2)),e.push(new It(R.midPoint(this.line.p1,this.line.p2))),e}},{key:"setActivePoint",value:function(e){this.activePoint=null,"P1"===e&&(this.activePoint=this.line.p1),"P2"===e&&(this.activePoint=this.line.p2)}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"Line",regexp:/\s*/}),e.set("P1",{value:{x:this.line.p1.x,y:this.line.p1.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("P2",{value:{x:this.line.p2.x,y:this.line.p2.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"P1":this.line.p1.x=e.value.x,this.line.p1.y=e.value.y;break;case"P2":this.line.p2.x=e.value.x,this.line.p2.y=e.value.y}}},{key:"getDistance",value:function(e){return R.PointToLineDistance(e,this.line)}},{key:"isInRect",value:function(e,t){var i=[R.pointInRect(this.line.p1,e,t),R.pointInRect(this.line.p2,e,t)].every(function(e){return!0===e});return{cross:L.LineRectangle(this.line,e,t).length>0,full:i}}},{key:"toString",value:function(){return"Line P1(".concat(this.line.p1.x,",").concat(this.line.p1.y,") P2(").concat(this.line.p2.x,",").concat(this.line.p2.y,")")}}]),t}(N),Ht=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new T(A.BLACK,T.DASH);return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).name="DistancePicker",e.line=new w(new m,new m),e.boundedCircle=new E(new m,0),e.points=[new m,new m],e.shape=new _t(e.line),e.text=new D,e.text.setAnchor(D.CENTER),e.text.setFont("10px sans-serif"),e.style=i,e.shape.setStyle(i),e.helperShapes=[e.text],e.xAxe=new j({x:1,y:0},{x:0,y:0}),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){if(this.isNext()){this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.line=new w(this.points[0],this.points[1])),this.data=R.distance(this.points[0],this.points[1]),this.shape=new _t(this.line),this.shape.setStyle(this.style),this.text.setText(this.data.toFixed(4)),this.text.setPoint(R.midPoint(this.points[0],this.points[1]));var t=R.angleVectors(new j(this.points[1],this.points[0]),this.xAxe);t<Math.PI/2?t*=Math.sign(this.points[0].y-this.points[1].y):t=(Math.PI-t)*Math.sign(this.points[1].y-this.points[0].y),this.text.rotate(t),this.setControlPoints()}}},{key:"setControlPoints",value:function(){}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()))}}]),t}(Mt);Ht.caption="";var Wt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).p=new m,i.circle=e,i.model=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.arc(this.screenCenter.x,this.screenCenter.y,this.screenRadius,0,2*Math.PI),e.stroke()}},{key:"refresh",value:function(e,t){this.screenCenter=R.realToScreen(this.circle.center,e,t),this.screenRadius=R.realToScreenLength(this.circle.radius,e.width,t.width),this.activePoint&&(this.activePointMarker=new At(this.activePoint))}},{key:"setActivePoint",value:function(e){this.activePoint=null,"Center"===e&&(this.activePoint=this.circle.center)}},{key:"getMarkers",value:function(){var e=[];return e.push(new Tt(this.circle.center)),e}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"Circle",regexp:/\s*/}),e.set("Center",{value:{x:this.circle.center.x,y:this.circle.center.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("Radius",{value:this.circle.radius,picker:Ht,regexp:/^\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"Center":this.circle.center.x=e.value.x,this.circle.center.y=e.value.y;break;case"Radius":this.circle.radius=e.value}}},{key:"getDistance",value:function(e){return Math.abs(R.distance(e,this.circle.center)-this.circle.radius)}},{key:"isInRect",value:function(e,t){var i=e.x-this.circle.radius,n=e.y+this.circle.radius,s=t.x+this.circle.radius,r=t.y-this.circle.radius,a=e.x+this.circle.radius,o=e.y-this.circle.radius,c=t.x-this.circle.radius,h=t.y+this.circle.radius,l=this.circle.center,p=!1;return[Math.sign(R.distance(l,{x:e.x,y:e.y})-this.circle.radius),Math.sign(R.distance(l,{x:t.x,y:e.y})-this.circle.radius),Math.sign(R.distance(l,{x:t.x,y:t.y})-this.circle.radius),Math.sign(R.distance(l,{x:e.x,y:t.y})-this.circle.radius)].every(function(e){return e<0})?{cross:!1,full:!1}:!0===R.pointInRectByPoints(l.x,l.y,a,o,c,h)?{cross:!1,full:!0}:(R.pointInRectByPoints(l.x,l.y,i,n,s,r)&&(p=!0,R.pointInRectByPoints(l.x,l.y,i,n,e.x,e.y)&&R.distance(l,{x:e.x,y:e.y})>this.circle.radius&&(p=!1),R.pointInRectByPoints(l.x,l.y,t.x,n,s,e.y)&&R.distance(l,{x:t.x,y:e.y})>this.circle.radius&&(p=!1),R.pointInRectByPoints(l.x,l.y,t.x,t.y,s,r)&&R.distance(l,{x:t.x,y:t.y})>this.circle.radius&&(p=!1),R.pointInRectByPoints(l.x,l.y,i,t.y,e.x,r)&&R.distance(l,{x:e.x,y:t.y})>this.circle.radius&&(p=!1)),{cross:p,full:!1})}},{key:"toString",value:function(){return"Center("+this.circle.center.x+","+this.circle.center.y+") radius("+this.circle.radius+")"}}]),t}(N),Ft=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).name="StraightLineCreator",n.points=new Array(2),n.points[0]=new m,n.points[1]=new m,n.line=new k(0,0,0),n.shape=new Pe(n.line),n.style=e||new T(A.BLACK,T.SOLID),n.shape.setStyle(e),n.helperShapes=[],n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setControlPoints",value:function(){this.helperShapes[0]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setColor(A.POINT_MARKER),this.helperShapes[1].setColor(A.POINT_MARKER)}},{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.line=Object(jt.a)(k,Object(Lt.a)(this.points)),0===this.line.a&&0===this.line.b?this.legal=!1:this.legal=!0),this.shape=new Pe(this.line),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);Ft.caption="Straight line";var Yt=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this))).line=e,i.model=e,i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"drawSelf",value:function(e,t,i){this.refresh(t,i),null!==this.p0&&null!==this.p1&&(e.strokeStyle=this.getStyle().getColor(),e.setLineDash(this.getStyle().getStroke()),e.lineWidth=this.getStyle().getWidth(),e.beginPath(),e.moveTo(this.p0.x,this.p0.y),e.lineTo(this.p1.x,this.p1.y),e.stroke())}},{key:"refresh",value:function(e,t){var i=new m(e.topLeft.x+e.width,e.topLeft.y-e.height),n=R.midPoint(e.topLeft,i),s=R.distance(e.topLeft,i)/2,r=new E(n,s),a=L.CircleRLine(r,this.line);if(null!=a){if(1===a.length){var o=a[0];(a=new Array(2))[0]=this.line.origin,a[1]=o}this.p0=R.realToScreen(a[0],e,t),this.p1=R.realToScreen(a[1],e,t)}else this.p0=null,this.p1=null;this.activePoint&&(this.activePointMarker=new At(this.activePoint))}},{key:"getMarkers",value:function(){var e=[];return e.push(new Kt(this.line.origin)),e}},{key:"setActivePoint",value:function(e){this.activePoint=null,"Origin"===e&&(this.activePoint=this.line.origin),"Direction"===e&&(this.activePoint=this.line.directionPoint)}},{key:"getProperties",value:function(){var e=new Map;return e.set("Title",{value:"RLine",regexp:/\s*/}),e.set("Origin",{value:{x:this.line.origin.x,y:this.line.origin.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e.set("Direction",{value:{x:this.line.origin.x+this.line.vector.x,y:this.line.origin.y+this.line.vector.y},picker:Nt,regexp:/^-?\d*\.?\d*$/}),e}},{key:"setProperty",value:function(e){switch(Object(M.a)(Object(l.a)(t.prototype),"setProperty",this).call(this,e),e.key){case"Origin":this.line.origin.x=e.value.x,this.line.origin.y=e.value.y,this.line.directionPoint.x=this.line.origin.x+this.line.vector.x,this.line.directionPoint.y=this.line.origin.y+this.line.vector.y;break;case"Direction":this.line.vector.x=e.value.x-this.line.origin.x,this.line.vector.y=e.value.y-this.line.origin.y,this.line.directionPoint.x=this.line.origin.x+this.line.vector.x,this.line.directionPoint.y=this.line.origin.y+this.line.vector.y}}},{key:"getDistance",value:function(e){return R.PointToRLineDistance(e,this.line)}},{key:"isInRect",value:function(e,t){return{cross:L.RectangleRLine(e,t,this.line).length>0,full:!1}}},{key:"toString",value:function(){return"Ray origin (".concat(this.line.origin.x,",").concat(this.line.origin.y,") vector(").concat(this.line.vector.x,",").concat(this.line.vector.y,")")}}]),t}(N),Ut=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).name="RayLineCreator",n.line=new x(new m,new m),n.points=new Array(2),n.shape=new Yt(n.line),n.style=e||new T(A.BLACK,T.SOLID),n.shape.setStyle(e),n.helperShapes=[],n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setControlPoints",value:function(){this.helperShapes[0]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setColor(A.POINT_MARKER),this.helperShapes[1].setColor(A.POINT_MARKER)}},{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.line=Object(jt.a)(x,Object(Lt.a)(this.points)),0===this.line.vector.x&&0===this.line.vector.y?this.legal=!1:this.legal=!0),this.shape=new Yt(this.line,this.boundedCircle),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);Ut.caption="Ray line";var Zt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new T(A.BLACK,T.SOLID),n=arguments.length>1?arguments[1]:void 0;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this,n))).name="LineCreator",e.line=new w(new m,new m),e.points=[new m,new m],e.shape=new _t(e.line),e.style=i,e.shape.setStyle(i),e.helperShapes=[],e.helperShapes.push(new Wt(new E(new m,0))),e.helperShapes.push(new Wt(new E(new m,0))),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.line=new w(this.points[0],this.points[1])),this.shape=new _t(this.line),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[0]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setColor(A.POINT_MARKER),this.helperShapes[1].setColor(A.POINT_MARKER)}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);Zt.caption="Segment line";var qt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new T(A.BLACK,T.SOLID),n=arguments.length>1?arguments[1]:void 0;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this,n))).name="CircleCRCreator",e.points=new Array(2),e.circle=new E(new m,0),e.helperShapes=[],e.shape=new Wt(e.circle),e.radiusLine=new w(e.circle.center,e.circle.center),e.helperShapes.push(new _t(e.radiusLine)),e.helperShapes.push(new Wt(new E(new m,0))),e.helperShapes.push(new Wt(new E(new m,0))),e.style=i,e.shape.setStyle(i),e.helperShapes[0].setStyle(new T(A.GRAY,T.DASH)),e.helperShapes[1].setStyle(new T(A.BLUE,T.SOLID)),e.helperShapes[2].setStyle(new T(A.BLUE,T.SOLID)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.circle=new E(this.points[0],R.distance(this.points[0],this.points[this.i]))),this.radiusLine=new w(this.points[0],this.points[this.i]),this.shape=new Wt(this.circle),this.helperShapes[0]=new _t(this.radiusLine),this.shape.setStyle(this.style),this.helperShapes[0].setStyle(new T(A.GRAY,T.DASH)),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[1]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[2]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1].setStyle(new T(A.POINT_MARKER,T.SOLID)),this.helperShapes[2].setStyle(new T(A.POINT_MARKER,T.SOLID))}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);qt.caption="Circle by center";var Gt=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).name="Circle2PCreator",n.style=e,n.circle=new E(new m,0),n.shape=new Wt(n.circle),n.shape.setStyle(e),n.helperShapes=[],n.diamLine=new w(n.circle.center,n.circle.center),n.helperShapes.push(new _t(n.diamLine)),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes[0].setStyle(new T(A.gray,T.DASH)),n.helperShapes[1].setStyle(new T(A.blue,T.SOLID)),n.helperShapes[2].setStyle(new T(A.blue,T.SOLID)),n.points=new Array(2),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.circle=new E(R.midPoint(this.points[0],this.points[1]),R.distance(this.points[0],this.points[1])/2)),this.diamLine=new w(this.points[0],this.points[this.i]),this.shape=new Wt(this.circle),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[0]=new _t(this.diamLine),this.helperShapes[1]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[2]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setStyle(new T(A.GRAY,T.DASH)),this.helperShapes[1].setStyle(new T(A.POINT_MARKER,T.SOLID)),this.helperShapes[2].setStyle(new T(A.POINT_MARKER,T.SOLID))}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);Gt.caption="Circle by 2 points";var Vt=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).name="Circle3PCreator",n.style=e,n.circle=new E(new m,0),n.shape=new Wt(n.circle),n.shape.setStyle(e),n.helperShapes=[],n.triangle=new P,n.helperShapes.push(new Dt(n.triangle)),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes[0].setStyle(new T(A.gray,T.DASH)),n.helperShapes[1].setStyle(new T(A.POINT_MARKER,T.SOLID)),n.helperShapes[2].setStyle(new T(A.POINT_MARKER,T.SOLID)),n.helperShapes[3].setStyle(new T(A.POINT_MARKER,T.SOLID)),n.points=new Array(3),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i<2&&(this.points[2]=this.points[1]),this.triangle=new P(this.points),this.circle=this.triangle.getOuterCircle(),this.shape=new Wt(this.circle),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[0]=new Dt(new P(this.points)),this.helperShapes[1]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[2]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[3]=new Wt(new E(this.points[2],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setStyle(new T(A.GRAY,T.DASH)),this.helperShapes[1].setStyle(new T(A.BLUE,T.SOLID)),this.helperShapes[2].setStyle(new T(A.BLUE,T.SOLID)),this.helperShapes[3].setStyle(new T(A.BLUE,T.SOLID))}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}},{key:"refresh",value:function(e){this.boundedCircle=e,null!=this.points[this.i]&&this.setControlPoints()}}]),t}(Te);Vt.caption="Circle by 3 points";var Xt=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).name="TriangleCreator",n.style=e,n.triangle=new P,n.shape=new Dt(n.triangle),n.helperShapes=[],n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.shape.setStyle(e),n.points=new Array(3),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i<2&&(this.points[2]=this.points[1]),this.triangle=new P(this.points),this.shape=new Dt(this.triangle),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[0]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[2]=new Wt(new E(this.points[2],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setColor(A.POINT_MARKER),this.helperShapes[1].setColor(A.POINT_MARKER),this.helperShapes[2].setColor(A.POINT_MARKER)}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);Xt.caption="Triangle";var zt=function(e){function t(e,i){var n;return Object(o.a)(this,t),(n=Object(h.a)(this,Object(l.a)(t).call(this,i))).rectangle=new C,n.points=new Array(2),n.name="RectangleCreator",n.style=e,n.shape=new Bt(n.rectangle),n.shape.setStyle(e),n.helperShapes=[],n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes.push(new Wt(new E(new m,0))),n.helperShapes[0].setStyle(new T(A.BLUE,T.SOLID)),n.helperShapes[1].setStyle(new T(A.BLUE,T.SOLID)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCurrent",value:function(e){this.isNext()&&(this.points[this.i]=e,0===this.i&&(this.points[1]=this.points[0]),this.i>0&&(this.rectangle=new C(this.points[0],this.points[1])),this.shape=new Bt(this.rectangle),this.shape.setStyle(this.style),this.setControlPoints())}},{key:"setControlPoints",value:function(){this.helperShapes[0]=new Wt(new E(this.points[0],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[1]=new Wt(new E(this.points[1],this.boundedCircle.radius*I.MARKER_SIZE)),this.helperShapes[0].setStyle(new T(A.POINT_MARKER,T.SOLID)),this.helperShapes[1].setStyle(new T(A.POINT_MARKER,T.SOLID))}},{key:"reset",value:function(){return new t(new T(this.style.getColor(),this.style.getType()),this.boundedCircle)}}]),t}(Te);zt.caption="Rectangle";var $t=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){var t=e.pressed,i=e.params;t?(this.setButtonId(""),this.props.cancel()):(this.setButtonId(i.id),this.props.createNewShape(new i.creator(new T(A.BLACK,T.SOLID),this.props.boundedCircle)))}},{key:"setButtonId",value:function(e){this.props.setActiveCreateButton(e)}},{key:"render",value:function(){var e=this,t=this.props.captions.create;return s.a.createElement("div",{className:"toolBar",id:"createToolBar"},s.a.createElement("div",{className:"toolBarHeader"},s.a.createElement("span",{className:"toolBarCaption noselect"},t.createToolBar)),s.a.createElement("hr",null),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",id:"cyclic",onChange:function(t){e.props.setCyclicFlag(t.target.checked)}}),s.a.createElement("label",{htmlFor:"cyclic"},t.createCheckBox)),s.a.createElement(Pt,{buttons:[{title:t.createSLine2Points,id:"SLine",params:{creator:Ft}},{title:t.createRayLine2Points,id:"RLine",params:{creator:Ut}},{title:t.createSegmentLine2Points,id:"Line",params:{creator:Zt}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}),s.a.createElement(Pt,{buttons:[{title:t.createCircleCenter,id:"CircleRad",params:{creator:qt}},{title:t.createCircle2P,id:"Circle2p",params:{creator:Gt}},{title:t.createCircle3P,id:"Circle3p",params:{creator:Vt}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}),s.a.createElement(Pt,{buttons:[{title:t.createRect,id:"Rect2p",params:{creator:zt}},{title:t.createRectCenter,id:"RectCenter",params:{creator:null,dev:t.development}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}),s.a.createElement(Pt,{buttons:[{title:t.createTriangle,id:"Triangle",params:{creator:Xt}},{title:t.createTriangleInscribed,id:"TriangleInscribed",params:{creator:null,dev:t.development}},{title:t.createTriangleDescribed,id:"TriangleDescribed",params:{creator:null,dev:t.development}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}),s.a.createElement(Pt,{buttons:[{title:t.createParabola,id:"Parabola",params:{creator:null,dev:t.development}},{title:t.createHyperbola,id:"Hyperbola",params:{creator:null,dev:t.development}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}),s.a.createElement(Pt,{buttons:[{title:t.createFunction,id:"Function",params:{creator:null,dev:t.development}}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}))}}]),t}(s.a.Component),Jt=Object(y.b)(function(e,t){return{boundedCircle:e.screen.boundedCircle,context:e.screen.context,captions:e.options.captions,activeButton:e.components.activeCreateButton}},function(e){return{cancel:function(){return e(ve())},createNewShape:function(t){return e(function(e){return{type:W,payload:e}}(t))},setActiveCreateButton:function(t){return e(function(e){return{type:at,payload:e}}(t))},setScreenStatus:function(t,i){return e(be(t,i))},setCyclicFlag:function(t){return e(function(e){return{type:Q,payload:e}}(t))}}})($t),Qt=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onclick",value:function(){this.props.pressed?(this.props.setSnap(this.props.snapClass,!1),this.props.clearActiveSnapButton(this.props.id)):(this.props.setSnap(this.props.snapClass,!0),this.props.setActiveSnapButton(this.props.id))}},{key:"render",value:function(){var e=this.props.pressed?"toolButtonDown":"toolButtonUp";return e+=" toolButton snapButton",s.a.createElement("div",{id:this.props.id,className:e,onClick:this.onclick.bind(this),title:this.props.title})}}]),t}(s.a.Component),ei=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.captions.snap;return s.a.createElement("div",{className:"toolBar snapToolBar"},s.a.createElement(Qt,{title:e.snapGridPoints,id:"grid",setSnap:this.props.setSnap,snapClass:"grid",setActiveSnapButton:this.props.setActiveSnapButton,clearActiveSnapButton:this.props.clearActiveSnapButton,pressed:this.props.activeButtons.has("grid")}),s.a.createElement(Qt,{title:e.snapEndPoints,id:"endpoint",setSnap:this.props.setSnap,snapClass:Kt,setActiveSnapButton:this.props.setActiveSnapButton,clearActiveSnapButton:this.props.clearActiveSnapButton,pressed:this.props.activeButtons.has("endpoint")}),s.a.createElement(Qt,{title:e.snapMiddlePoints,id:"middlepoint",setSnap:this.props.setSnap,snapClass:It,setActiveSnapButton:this.props.setActiveSnapButton,clearActiveSnapButton:this.props.clearActiveSnapButton,pressed:this.props.activeButtons.has("middlepoint")}),s.a.createElement(Qt,{title:e.snapCenterPoints,id:"centerpoint",setSnap:this.props.setSnap,snapClass:Tt,setActiveSnapButton:this.props.setActiveSnapButton,clearActiveSnapButton:this.props.clearActiveSnapButton,pressed:this.props.activeButtons.has("centerpoint")}))}}]),t}(s.a.Component),ti=Object(y.b)(function(e){return{screen:e.screen,captions:e.options.captions,activeButtons:e.components.activeSnapButtons}},function(e){return{setSnap:function(t,i){return e(function(e,t){return{type:"grid"===e?te:le,payload:"grid"===e?t:{snapClass:e,snap:t}}}(t,i))},setActiveSnapButton:function(t){return e(function(e){return{type:st,payload:e}}(t))},clearActiveSnapButton:function(t){return e(function(e){return{type:rt,payload:e}}(t))}}})(ei),ii=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.active?"pickButtonDown":"pickButtonUp";return s.a.createElement("div",{title:this.props.captions.buttons.pick,onClick:this.props.onClick,className:"pickButton "+e})}}]),t}(s.a.Component),ni=Object(y.b)(function(e){return{captions:e.options.captions}})(ii),si=function(e){function t(e){var i;return Object(o.a)(this,t),(i=Object(h.a)(this,Object(l.a)(t).call(this,e))).state={value:e.value.toFixed(4),correct:!0,prevValue:e.value.toFixed(4),originValue:e.value.toFixed(4)},i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"change",value:function(e){var t=e.target.value,i=this.props.regexp;null!=t.match(i)?this.setState({value:t,prevValue:t}):this.setState({value:""===t?"":this.state.prevValue})}},{key:"blur",value:function(){this.setState({value:this.state.originValue}),window.KEYDOWNHANDLE=!0}},{key:"onKeyPress",value:function(e){if(13===e.charCode){var t=e.target.value;t=""===t?"0":t;var i=this.props.regexp;if(null!==t.match(i)){var n=Number.parseFloat(t);return this.props.setProperty(this.props.propKey,n),void this.setState({value:n,correct:!0,prevValue:n})}this.setState({value:this.state.prevValue})}return!1}},{key:"componentDidUpdate",value:function(){this.props.status===We&&this.props.propKey===this.props.editId&&(this.props.setProperty(this.props.propKey,+this.state.value),this.props.cancel())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"noselect"},s.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center"}},this.props.label,s.a.createElement("input",{style:this.state.correct?{}:{backgroundColor:"red"},className:"propertyField",type:"text",value:this.state.value,id:this.props.label,onChange:this.change.bind(this),onKeyPress:this.onKeyPress.bind(this),onKeyDown:function(e){e.stopPropagation()},onBlur:this.blur.bind(this),onFocus:function(){window.KEYDOWNHANDLE=!1}}),this.props.picker?s.a.createElement(ni,{active:this.props.status===He&&this.props.id===this.props.editId,onClick:function(){e.props.status!==He||e.props.id!==e.props.editId?(e.props.setPickedData(e.state.value),e.props.startPicking(e.props.id,new e.props.picker)):e.props.cancel()}}):s.a.createElement(s.a.Fragment,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.status===We&&e.id===e.editId?e.pickedValue:t.value;return i=(+i).toFixed(4),Object(S.a)({},e,{value:i,originValue:e.value,correct:!0})}}]),t}(s.a.Component),ri=Object(y.b)(function(e){return{pickedValue:e.screen.pickedData.data,editId:e.screen.pickedData.editId,status:e.screen.status}},function(e){return{startPicking:function(t,i){return e(we(t,i))},setPickedData:function(t){return e(me(t))},cancel:function(){return e(ve())}}})(si),ai=function(e){function t(e){var i;Object(o.a)(this,t),i=Object(h.a)(this,Object(l.a)(t).call(this,e));var n={x:e.value.x,y:e.value.y};return i.state={value:{x:n.x,y:n.y},correct:!0,prevValue:{x:n.x,y:n.y},originValue:{x:n.x,y:n.y}},i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"change",value:function(e){var t={x:this.state.value.x,y:this.state.value.y};t[e.target.id]=e.target.value;var i=this.props.regexp;if(null!=t[e.target.id].match(i)&&""!==t[e.target.id])this.setState({value:{x:t.x,y:t.y},prevValue:{x:t.x,y:t.y}});else{var n=this.state.prevValue;""===t[e.target.id]&&(n[e.target.id]=""),this.setState({value:n})}}},{key:"blur",value:function(){this.setState({value:this.state.originValue}),window.KEYDOWNHANDLE=!0}},{key:"focus",value:function(){this.props.setActivePoint(this.props.propKey),window.KEYDOWNHANDLE=!1}},{key:"onKeyPress",value:function(e){if(13===e.charCode){var t=e.target.value;t=""===t?"0":t;var i=this.props.regexp;if(null!==t.match(i)){var n=Number.parseFloat(t),s=this.state.value;return s[e.target.id]=n,this.props.setProperty(this.props.propKey,s),void this.setState({value:s,correct:!0,prevValue:s})}this.setState({value:this.state.prevValue})}return!1}},{key:"componentDidUpdate",value:function(){this.props.status===We&&this.props.propKey===this.props.editId&&(this.props.setProperty(this.props.propKey,this.state.value),this.props.cancel())}},{key:"render",value:function(){var e=this,t=this.state.value;return s.a.createElement("div",{className:"noselect"},s.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center"}},this.props.label,s.a.createElement("input",{style:this.state.correct?{}:{backgroundColor:"red"},className:"propertyMultField",type:"text",value:t.x,id:"x",onChange:this.change.bind(this),onKeyPress:this.onKeyPress.bind(this),onKeyDown:function(e){e.stopPropagation()},onBlur:this.blur.bind(this),onFocus:this.focus.bind(this)}),s.a.createElement("input",{style:this.state.correct?{}:{backgroundColor:"red"},className:"propertyMultField",type:"text",value:t.y,id:"y",onChange:this.change.bind(this),onKeyPress:this.onKeyPress.bind(this),onKeyDown:function(e){e.stopPropagation()},onBlur:this.blur.bind(this),onFocus:this.focus.bind(this)}),this.props.picker?s.a.createElement(ni,{active:this.props.status===He&&this.props.id===this.props.editId,onClick:function(){e.props.status!==He||e.props.id!==e.props.editId?(e.props.setPickedData(e.state.value),e.props.startPicking(e.props.id,new e.props.picker),e.props.setActivePoint(e.props.propKey)):e.props.cancel()}}):s.a.createElement(s.a.Fragment,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.status===We&&e.id===e.editId?e.pickedValue:t.value;return i.x=+i.x.toFixed(4),i.y=+i.y.toFixed(4),Object(S.a)({},e,{value:i,originValue:e.value,correct:!0})}}]),t}(s.a.Component),oi=Object(y.b)(function(e){return{pickedValue:e.screen.pickedData.data,editId:e.screen.pickedData.editId,status:e.screen.status}},function(e){return{startPicking:function(t,i){return e(we(t,i))},setPickedData:function(t){return e(me(t))},cancel:function(){return e(ve())}}})(ai),ci=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.props.deleteConfirm()}},{key:"render",value:function(){return s.a.createElement("div",{className:"propEditBar"},s.a.createElement("button",{className:"deleteButton",onClick:this.onClick.bind(this)},this.props.caption))}}]),t}(s.a.Component),hi=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setProperty",value:function(e,t){this.props.setProperty({key:e,value:t})}},{key:"setActivePoint",value:function(e){this.shape.setActivePoint(e),this.props.repaint()}},{key:"render",value:function(){var e,t=this.props.screen.selectedShapes,i=[];if(1===t.length){this.shape=t[0],this.prop=t[0].getProperties();var n=this.prop.get("Title").value;e=this.props.captions.shapes[n].Title;var r=!0,a=!1,o=void 0;try{for(var c,h=this.prop.keys()[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var l=c.value;"Title"!==l&&i.push("object"===typeof this.prop.get(l).value?s.a.createElement(oi,{key:l,propKey:l,id:l,label:this.props.captions.shapes[n][l],value:this.prop.get(l).value,regexp:this.prop.get(l).regexp,picker:this.prop.get(l).picker,setProperty:this.setProperty.bind(this),setActivePoint:this.setActivePoint.bind(this)}):s.a.createElement(ri,{key:l,propKey:l,id:l,label:this.props.captions.shapes[n][l],value:this.prop.get(l).value,regexp:this.prop.get(l).regexp,picker:this.prop.get(l).picker,setProperty:this.setProperty.bind(this)}))}}catch(p){a=!0,o=p}finally{try{r||null==h.return||h.return()}finally{if(a)throw o}}}return t.length>1&&(i=t.length+this.props.captions.NShapesSelected),0===t.length&&(i=this.props.captions.noShapesSelected),s.a.createElement("div",{className:"toolBar propertiesBar noselect"},s.a.createElement("div",{className:"toolBarHeader noselect"},this.props.captions.propBar),s.a.createElement("hr",null),e||"",s.a.createElement("div",{className:"propertyGroup"},i),this.props.screen.selectedShapes.length>0?s.a.createElement(ci,{deleteConfirm:this.props.deleteConfirm.bind(null,!0),caption:this.props.captions.deleteButton}):s.a.createElement(s.a.Fragment,null))}}]),t}(s.a.Component),li=Object(y.b)(function(e){return{screen:e.screen,captions:e.options.captions}},function(e){return{setProperty:function(t){return e(function(e){return{type:xe,payload:e}}(t))},deleteConfirm:function(){return e(ge())},repaint:function(){return e(Se())}}})(hi),pi=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){var t=e.params;this.props.setSelectionType(t.id)}},{key:"render",value:function(){var e=this.props.captions.modify;return s.a.createElement("div",{className:"toolBar",id:"selectionToolBar"},s.a.createElement(Pt,{buttons:[{title:e.crossSelect,id:"crossSelect"},{title:e.fullSelect,id:"fullSelect"}],activeButton:this.props.activeButton,onClick:this.onClick.bind(this)}))}}]),t}(s.a.Component),ui=Object(y.b)(function(e){return{context:e.screen.context,captions:e.options.captions,activeButton:e.screen.selectionType}},function(e){return{setSelectionType:function(t){return e({type:he,payload:t})},setScreenStatus:function(t,i){return e(be(t,i))}}})(pi),di=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mainContainer"},s.a.createElement("div",{className:"screenContainer"},s.a.createElement(I,Object.assign({style:{borderWidth:"1px",borderStyle:"solid"},actions:this.props.actions,keyDownHandler:this.props.keyDownHandler},this.props.screen))),s.a.createElement(Jt,null),s.a.createElement(ui,null),s.a.createElement(li,null),s.a.createElement(ti,null))}}]),t}(s.a.Component),yi=Object(y.b)(function(e){return{screen:Object(S.a)({},e.screen,{captions:e.options.captions}),keyDownHandler:e.options.keyDownHandler}},function(e){return{actions:{addShape:function(t){return e(function(e){return{type:B,payload:e}}(t))},cancel:function(){return e(ve())},cancelSelection:function(){return e({type:_})},centerToPoint:function(t){return e(function(e){return{type:H,payload:e}}(t))},createShape:function(t){return e({type:ke,payload:t})},deleteConfirm:function(){return e(ge())},refreshShapeManager:function(){return e({type:q})},refreshSnapMarkers:function(){return e({type:G})},repaint:function(){return e(Se())},selectAll:function(){return e({type:X})},selectShapes:function(t){return e(function(e){return{type:z,payload:e}}(t))},setBoundedCircle:function(){return e({type:$})},setCurCoord:function(t){return e(function(e){return{type:J,payload:e}}(t))},setDimensions:function(t,i,n,s){return e(function(e,t,i,n){return{type:ee,payload:{width:e,height:t,realWidth:i,topLeft:n}}}(t,i,n,s))},setLanguage:function(t){return e($e(t))},setPickedData:function(t){return e(me(t))},setPrevStatus:function(){return e({type:se})},setRatio:function(t){return e(function(e){return{type:re,payload:e}}(t))},setRealWidth:function(t){return e(function(e){return{type:ae,payload:e}}(t))},setScale:function(t,i){return e(function(e,t){return{type:oe,payload:{scale:e,anchor:t}}}(t,i))},setScreenStatus:function(t,i){return e(be(t,i))},setTopLeft:function(t){return e(function(e){return{type:ue,payload:e}}(t))}}}})(di),vi=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("span",{ref:this.ref2,className:"noselect",style:{position:"relative",whiteSpace:"pre",fontSize:"small"}},s.a.createElement("hr",null),"".concat(this.props.cap.name,"          ").concat(this.props.cap.email),s.a.createElement("hr",null)))}}]),t}(s.a.Component),gi=Object(y.b)(function(e){return{cap:e.options.captions.about}})(vi),fi=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).animate=function(){e.w<e.maxw&&(e.ref.current.style.width="".concat(e.w,"px")),e.h<e.maxh&&(e.ref.current.style.height="".concat(e.h,"px")),e.w>=e.maxw&&e.h>=e.maxh&&e.setState({done:!0}),e.w+=50,e.h+=50},e.ref=s.a.createRef(),e.state={done:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.t),window.KEYDOWNHANDLE=!0}},{key:"componentDidMount",value:function(){this.maxw=document.body.clientWidth/1.1,this.maxh=document.body.clientHeight/1.1,this.w=0,this.h=0,this.t=setInterval(this.animate,1),window.KEYDOWNHANDLE=!1}},{key:"render",value:function(){var e=this.props.captions.help.hotKeys.map(function(e,t){return s.a.createElement(n.Fragment,{key:t},s.a.createElement("span",{className:"helpHotKey"},e.key," ")," - ",e.desc,s.a.createElement("br",null))});return s.a.createElement("div",{className:"helpContainer  noselect",onClick:this.props.showHelp.bind(null,!1)},s.a.createElement("div",{style:{display:"inline-block",zIndex:101,position:"relative"}},s.a.createElement("div",{id:"help",ref:this.ref,className:"toolBar helpSectionShow"},s.a.createElement("div",{className:"toolBarHeader"},s.a.createElement("span",{className:"toolBarCaption"},this.props.captions.help.title)),this.state.done?s.a.createElement(gi,null):s.a.createElement(s.a.Fragment,null),e,s.a.createElement("div",{id:"pifagor"}),s.a.createElement("div",{id:"evklid"}))))}}]),t}(s.a.Component),Si=Object(y.b)(function(e){return{captions:e.options.captions}},function(e){return{showHelp:function(t){return e(Je(t))}}})(fi),mi=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modalContainer  noselect",onClick:tt},s.a.createElement("div",{className:"toolBar",onClick:function(e){e.stopPropagation()}},s.a.createElement("div",null,this.props.captions.messages[this.props.messageKey]),s.a.createElement("div",{className:"flexCenter"},s.a.createElement("button",{onClick:function(){ft.dispatch(e.props.onOk()),e.props.hideConfirm()}},"OK"),s.a.createElement("button",{onClick:this.props.hideConfirm},this.props.captions.buttons.cancel))))}}]),t}(s.a.Component),bi=Object(y.b)(function(e){return{captions:e.options.captions}},function(e){return{hideConfirm:function(){return e(Qe(!1))}}})(mi),wi=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"modalContainer  noselect",onClick:tt},s.a.createElement("div",{className:"toolBar",onClick:function(e){e.stopPropagation()}},s.a.createElement("div",null,this.props.captions.messages[this.props.messageKey]),s.a.createElement("div",{className:"flexCenter"},s.a.createElement("button",{onClick:function(){e.props.hideAlert()}},"OK"))))}}]),t}(s.a.Component),ki=Object(y.b)(function(e){return{captions:e.options.captions}},function(e){return{hideAlert:function(){return e(et(!1))}}})(wi),xi=function(e){function t(e){var i;return Object(o.a)(this,t),i=Object(h.a)(this,Object(l.a)(t).call(this,e)),e.setLanguage(it),i}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"body"},this.props.showConfirm.show?s.a.createElement(bi,{messageKey:this.props.showConfirm.messageKey,onOk:this.props.showConfirm.okAction}):s.a.createElement(s.a.Fragment,null),this.props.showAlert.show?s.a.createElement(ki,{messageKey:this.props.showAlert.messageKey}):s.a.createElement(s.a.Fragment,null),s.a.createElement(Ct,null),this.props.showHelp?s.a.createElement(Si,null):s.a.createElement(s.a.Fragment,null),s.a.createElement("hr",null),s.a.createElement(yi,null))}}]),t}(s.a.Component),Oi=Object(y.b)(function(e){return{showHelp:e.components.showHelp,showConfirm:e.components.showConfirm,showAlert:e.components.showAlert}},function(e){return{setLanguage:function(t){return e($e(t))}}})(xi),Ci=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"spinner"})}}]),t}(s.a.Component),Ei=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).refName=s.a.createRef(),e.refPass=s.a.createRef(),e.state={correct:!0,logging:!1,errCode:0,showPass:!1,remember:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onRegClick",value:function(){this.props.history.push("/register")}},{key:"onSubmit",value:function(e){if(!this.state.logging){var t=this.refName.current.value,i=this.refPass.current.value;this.requestLogin(t,i),e.preventDefault()}}},{key:"cancel",value:function(){this.props.history.push("/")}},{key:"requestLogin",value:function(e,t){var i=this;this.setState({correct:!0,logging:!0}),fetch(qe.devUrl+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nameOrEmail:e,password:t})}).then(function(e){return e.json()}).then(function(e){i.setState({correct:e.success,logging:!1,errCode:e.errCode}),!0===e.success&&(i.props.setToken(e.token,i.state.remember),i.props.history.push("/"))}).catch(function(e){console.error(e),i.setState({correct:!1,logging:!1,errCode:3})})}},{key:"componentWillUnmount",value:function(){window.KEYDOWNHANDLE=!0}},{key:"componentDidMount",value:function(){var e=this;window.KEYDOWNHANDLE=!1,this.ref.style.overflow="hidden",this.ref.style.width="0px",this.ref.style.transition="width 200ms linear",setTimeout(function(){e.ref.style.width="200px"},10)}},{key:"render",value:function(){var e=this,t=this.props.cap,i=this.state.showPass?"text":"password";return s.a.createElement("div",{className:"modalContainer noselect",onClick:tt},s.a.createElement("div",{ref:function(t){e.ref=t},className:"toolBar",onClick:function(e){e.stopPropagation()}},s.a.createElement("div",{className:"toolBarHeader"},s.a.createElement("span",{className:"toolBarCaption"},t.loginForm.title)),s.a.createElement("form",{onSubmit:this.onSubmit.bind(this),className:"loginForm"},s.a.createElement("input",{name:"nameOrEmail",ref:this.refName,required:!0,placeholder:t.loginForm.name}),s.a.createElement("input",{name:"password",ref:this.refPass,required:!0,placeholder:t.loginForm.password,type:i}),s.a.createElement("input",{type:"submit",value:"OK"}),s.a.createElement("input",{type:"button",value:t.loginForm.regForm,onClick:this.onRegClick.bind(this)}),s.a.createElement("input",{type:"button",value:t.buttons.cancel,onClick:this.cancel.bind(this)})),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",id:"show",onChange:function(t){e.setState({showPass:t.target.checked})}}),s.a.createElement("label",{htmlFor:"show"},t.buttons.showPass)),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",id:"remember",onChange:function(t){e.setState({remember:t.target.checked})}}),s.a.createElement("label",{htmlFor:"remember"},t.loginForm.rememberMe)),!1===this.state.correct?s.a.createElement("span",{className:"errorMessage"},t.loginForm.messages[this.state.errCode]):s.a.createElement(s.a.Fragment,null),s.a.createElement("div",{className:"flexCenter"},this.state.logging?s.a.createElement(Ci,null):s.a.createElement(s.a.Fragment,null))))}}]),t}(s.a.Component),Pi=Object(y.b)(function(e){return{cap:e.options.captions}},function(e){return{setToken:function(t,i){e(function(e,t){return{type:ht,payload:{token:e,remember:t}}}(t,i))}}})(Ei),ji=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).refName=s.a.createRef(),e.refEmail=s.a.createRef(),e.refPass1=s.a.createRef(),e.refPass2=s.a.createRef(),e.state={correct:!1,message:"",fetching:!1,showPass:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"check",value:function(e,t,i,n){var s,r=this.props.cap.registerForm,a={correct:!0};return n!==i&&(s=3),i.length<6&&(s=2),t.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)||(s=4),e.match(/^[a-zA-Z0-9]+([a-zA-Z0-9](_)[a-zA-Z0-9])*[a-zA-Z0-9]+$/)||(s=1),e.length<4&&(s=0),void 0!==s&&(a={correct:!1,message:r.inputMessages[s]}),a}},{key:"onSubmit",value:function(e){var t=this,i=this.props.cap.registerForm,n=this.refName.current.value,s=this.refEmail.current.value,r=this.refPass1.current.value,a=this.refPass2.current.value,o=this.check(n,s,r,a);o.correct&&fetch(qe.devUrl+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:s,password:r})}).then(function(e){return e.json()}).then(function(e){e.registered&&(t.props.showAlert("regSucceed"),t.props.history.push("/")),t.setState({correct:e.registered,fetching:!1,message:i.serverMessages[e.errCode]})}).catch(function(e){t.setState({correct:!1,fetching:!1,message:i.serverMessages[5]})}),this.setState(Object(S.a)({},o,{fetching:!0})),e.preventDefault()}},{key:"cancel",value:function(){this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){window.KEYDOWNHANDLE=!0}},{key:"componentDidMount",value:function(){var e=this;window.KEYDOWNHANDLE=!1,this.ref.style.overflow="hidden",this.ref.style.width="0px",this.ref.style.transition="width 200ms linear",setTimeout(function(){e.ref.style.width="200px"},10)}},{key:"render",value:function(){var e=this,t=this.props.cap,i=this.state.showPass?"text":"password";return s.a.createElement("div",{className:"modalContainer noselect",onClick:tt},s.a.createElement("div",{ref:function(t){e.ref=t},className:"toolBar center",onClick:function(e){e.stopPropagation()}},s.a.createElement("div",{className:"toolBarHeader"},s.a.createElement("span",{className:"toolBarCaption"},t.registerForm.title)),s.a.createElement("form",{onSubmit:this.onSubmit.bind(this),className:"loginForm"},s.a.createElement("input",{required:!0,ref:this.refName,placeholder:t.registerForm.name}),s.a.createElement("input",{required:!0,ref:this.refEmail,placeholder:t.registerForm.email,type:"email"}),s.a.createElement("input",{required:!0,ref:this.refPass1,placeholder:t.registerForm.password,type:i}),s.a.createElement("input",{required:!0,ref:this.refPass2,placeholder:t.registerForm.passwordAgain,type:i}),s.a.createElement("input",{type:"submit",value:"OK"}),s.a.createElement("input",{type:"button",value:t.buttons.cancel,onClick:this.cancel.bind(this)})),s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",id:"show",onChange:function(t){e.setState({showPass:t.target.checked})}}),s.a.createElement("label",{htmlFor:"show"},t.buttons.showPass)),s.a.createElement("div",{className:"flexCenter"},this.state.fetching?s.a.createElement(Ci,null):s.a.createElement(s.a.Fragment,null)),this.state.correct?s.a.createElement(s.a.Fragment,null):s.a.createElement("span",{className:"errorMessages"},this.state.message)))}}]),t}(s.a.Component),Li=Object(y.b)(function(e){return{cap:e.options.captions}},function(e){return{showAlert:function(t){return e(et(!0,t))}}})(ji),Ri=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(l.a)(t).call(this))).state={activated:!0,logging:!1,errCode:0,message:""},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onLoginClick",value:function(){this.props.history.push("/login")}},{key:"cancel",value:function(){this.props.history.push("/")}},{key:"activate",value:function(e){var t=this;this.setState({activated:!1,logging:!0}),fetch(qe.devUrl+"/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.json()}).then(function(e){t.setState({activated:e.success,logging:!1,message:t.props.cap.activation.messages[e.errCode]}),e.success}).catch(function(e){console.error(e),t.setState({activated:!1,logging:!1,errCode:5})})}},{key:"componentWillUnmount",value:function(){window.KEYDOWNHANDLE=!0}},{key:"componentDidMount",value:function(){this.activate(this.props.match.params.id),window.KEYDOWNHANDLE=!1}},{key:"render",value:function(){var e=this.props.cap,t=this.state.message;return s.a.createElement("div",{className:"modalContainer noselect"},s.a.createElement("div",{className:"toolBar"},s.a.createElement("div",{className:"toolBarHeader"},s.a.createElement("span",{className:"toolBarCaption"},e.activation.title)),this.state.logging?s.a.createElement(Ci,null):s.a.createElement("div",null,s.a.createElement("div",null,t),s.a.createElement("input",{type:"button",value:e.loginForm.title,onClick:this.onLoginClick.bind(this)}),s.a.createElement("input",{type:"button",value:e.buttons.cancel,onClick:this.cancel.bind(this)}))))}}]),t}(s.a.Component),Ti=Object(y.b)(function(e){return{cap:e.options.captions}},function(e){return{}})(Ri),Ai=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(y.a,{store:ft},s.a.createElement(u.a,null,s.a.createElement(d.a,{path:"/",component:Oi}),s.a.createElement(d.a,{exact:!0,path:"/activate",component:Ti}),s.a.createElement(d.a,{path:"/activate/:id",component:Ti}),s.a.createElement(d.a,{path:"/login",component:Pi}),s.a.createElement(d.a,{path:"/register",component:Li})))}}]),t}(s.a.Component);a.a.render(s.a.createElement(Ai,null),document.getElementById("root"))},9:function(e,t,i){}},[[37,1,2]]]);
//# sourceMappingURL=main.5b434fb1.chunk.js.map